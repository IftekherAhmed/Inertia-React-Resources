<h2 id="part-3-extending-the-task-management-app">Part 3: Extending the
Task Management App</h2>
<h3 id="step-1-adding-edit-and-delete-functionality">Step 1: Adding Edit
and Delete Functionality</h3>
<p>Let’s add the ability to edit and delete tasks in the Task Management
App. This involves updating the Laravel backend, creating new Inertia
routes, and enhancing the React frontend.</p>
<h4 id="update-laravel-backend">1.1 Update Laravel Backend</h4>
<ul>
<li><p><strong>Update TaskController</strong>
(<code>app/Http/Controllers/TaskController.php</code>): Add methods for
editing and deleting tasks.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">H</span>ttp\<span class="cn">C</span>ontrollers<span class="ot">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels\<span class="cn">T</span>ask<span class="ot">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>nertia\<span class="cn">I</span>nertia<span class="ot">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">H</span>ttp\<span class="cn">R</span>equest<span class="ot">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>askController <span class="kw">extends</span> <span class="cn">C</span>ontroller</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... existing index, create, store methods ...</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> edit(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Edit&#39;</span><span class="ot">,</span> [<span class="st">&#39;task&#39;</span> =&gt; <span class="va">$task</span>])<span class="ot">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> update(<span class="cn">R</span>equest <span class="va">$request</span><span class="ot">,</span> <span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;completed&#39;</span> =&gt; <span class="st">&#39;boolean&#39;</span><span class="ot">,</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        ])<span class="ot">;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="va">$task</span>-&gt;update(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task updated!&#39;</span>)<span class="ot">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> destroy(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        <span class="va">$task</span>-&gt;delete()<span class="ot">;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task deleted!&#39;</span>)<span class="ot">;</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Update Routes</strong> (<code>routes/web.php</code>):</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">H</span>ttp\<span class="cn">C</span>ontrollers\<span class="cn">T</span>askController<span class="ot">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::get(<span class="st">&#39;/tasks&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;index&#39;</span>])-&gt;name(<span class="st">&#39;tasks.index&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::get(<span class="st">&#39;/tasks/create&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;create&#39;</span>])-&gt;name(<span class="st">&#39;tasks.create&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::post(<span class="st">&#39;/tasks&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;store&#39;</span>])-&gt;name(<span class="st">&#39;tasks.store&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::get(<span class="st">&#39;/tasks/{task}/edit&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;edit&#39;</span>])-&gt;name(<span class="st">&#39;tasks.edit&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::put(<span class="st">&#39;/tasks/{task}&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;update&#39;</span>])-&gt;name(<span class="st">&#39;tasks.update&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::delete(<span class="st">&#39;/tasks/{task}&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;destroy&#39;</span>])-&gt;name(<span class="st">&#39;tasks.destroy&#39;</span>)<span class="ot">;</span></span></code></pre></div></li>
</ul>
<h4 id="create-edit-component">1.2 Create Edit Component</h4>
<p>Create a React component for editing tasks, reusing the
<code>useInertiaForm</code> custom hook from the previous response.</p>
<ul>
<li><p>Create <code>resources/js/Pages/Tasks/Edit.jsx</code>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useInertiaForm } <span class="im">from</span> <span class="st">&#39;../Hooks/useInertiaForm&#39;</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Edit</span>({ task }) {</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { form<span class="op">,</span> updateField<span class="op">,</span> submit } <span class="op">=</span> <span class="fu">useInertiaForm</span>({</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span><span class="op">:</span> task<span class="op">.</span><span class="at">title</span><span class="op">,</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">description</span><span class="op">:</span> task<span class="op">.</span><span class="at">description</span> <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">completed</span><span class="op">:</span> task<span class="op">.</span><span class="at">completed</span><span class="op">,</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Edit Task<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;form</span> <span class="ot">onSubmit</span><span class="op">=</span><span class="va">{</span>(e) <span class="kw">=&gt;</span> { e<span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span> <span class="fu">submit</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span> <span class="st">&#39;put&#39;</span>)<span class="op">;</span> }<span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/label&gt;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;input</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">type</span><span class="op">=</span><span class="st">&quot;text&quot;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">value</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">title</span><span class="va">}</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span><span class="fu">updateField</span>(<span class="st">&#39;title&#39;</span>)<span class="va">}</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Description<span class="kw">&lt;/label&gt;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;textarea</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">value</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">description</span><span class="va">}</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span><span class="fu">updateField</span>(<span class="st">&#39;description&#39;</span>)<span class="va">}</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;input</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">type</span><span class="op">=</span><span class="st">&quot;checkbox&quot;</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">checked</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">completed</span><span class="va">}</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span>(e) <span class="kw">=&gt;</span> <span class="fu">updateField</span>(<span class="st">&#39;completed&#39;</span>)({ <span class="dt">target</span><span class="op">:</span> { <span class="dt">value</span><span class="op">:</span> e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">checked</span> } })<span class="va">}</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">/&gt;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>                        Completed</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/label&gt;</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span> <span class="ot">type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-blue-500 text-white p-2&quot;</span><span class="kw">&gt;</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>                    Update</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;ml-4 text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>                    Cancel</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/form&gt;</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Edit<span class="op">;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: The <code>Edit</code> component
pre-fills the form with the task’s data, uses
<code>useInertiaForm</code> for state management, and submits updates
via Inertia’s <code>put</code> method.</p>
<h4 id="update-index-component-for-editdelete">1.3 Update Index
Component for Edit/Delete</h4>
<p>Add edit and delete buttons to the task list in
<code>Index.jsx</code>.</p>
<ul>
<li><p>Update <code>resources/js/Pages/Tasks/Index.jsx</code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { useContext<span class="op">,</span> useMemo } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link<span class="op">,</span> usePage } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterContext } <span class="im">from</span> <span class="st">&#39;../Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Index</span>({ tasks }) {</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { flash } <span class="op">=</span> <span class="fu">usePage</span>()<span class="op">.</span><span class="at">props</span><span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { filter<span class="op">,</span> setFilter } <span class="op">=</span> <span class="fu">useContext</span>(FilterContext)<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> filteredTasks <span class="op">=</span> <span class="fu">useMemo</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> tasks<span class="op">.</span><span class="fu">filter</span>((task) <span class="kw">=&gt;</span> {</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;completed&#39;</span>) <span class="cf">return</span> task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;pending&#39;</span>) <span class="cf">return</span> <span class="op">!</span>task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> [tasks<span class="op">,</span> filter])<span class="op">;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleDelete <span class="op">=</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">confirm</span>(<span class="st">&#39;Are you sure you want to delete this task?&#39;</span>)) {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            Inertia<span class="op">.</span><span class="fu">delete</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Task Manager<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>            <span class="va">{</span>flash<span class="op">.</span><span class="at">message</span> <span class="op">&amp;&amp; </span><span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-green-600&quot;</span><span class="kw">&gt;</span><span class="va">{</span>flash<span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/div&gt;</span><span class="va">}</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks/create&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                Add New Task</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;my-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;all&#39;</span>)<span class="va">}</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>                    All</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;completed&#39;</span>)<span class="va">}</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>                    Completed</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;pending&#39;</span>)<span class="va">}</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>                    Pending</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;ul</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;list-none p-0&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>filteredTasks<span class="op">.</span><span class="fu">map</span>((task) <span class="kw">=&gt;</span> (</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;li</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">key</span><span class="op">=</span><span class="va">{</span>task<span class="op">.</span><span class="at">id</span><span class="va">}</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&gt;</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;span&gt;</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>                            <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="st">&#39;Done&#39;</span> <span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="va">}</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/span&gt;</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;div&gt;</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;Link</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&gt;</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>                                Edit</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;button</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">handleDelete</span>(task<span class="op">.</span><span class="at">id</span>)<span class="va">}</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&gt;</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>                                Delete</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;/button&gt;</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>                ))<span class="va">}</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/ul&gt;</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="bu">Index</span><span class="op">;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: Added <code>Edit</code> and
<code>Delete</code> buttons using Inertia’s <code>Link</code> and
<code>Inertia.delete</code>. The delete action prompts for confirmation
to prevent accidental deletions. Flash messages display success
feedback.</p>
<h4 id="test-the-functionality">1.4 Test the Functionality</h4>
<ul>
<li><p>Run the app:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan serve</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run dev</span></code></pre></div></li>
<li><p>Visit <code>http://localhost:8000/tasks</code>, create a task,
then try editing and deleting it. Verify that flash messages appear and
the task list updates.</p></li>
</ul>
<hr />
<h3 id="step-2-advanced-inertia-features">Step 2: Advanced Inertia
Features</h3>
<h4 id="lazy-loading-components">2.1 Lazy Loading Components</h4>
<p>Lazy loading defers loading of non-critical components until needed,
improving performance. Let’s lazy load the <code>Edit</code>
component.</p>
<ul>
<li><p>Update <code>resources/js/app.js</code> to support dynamic
imports:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createRoot } <span class="im">from</span> <span class="st">&#39;react-dom/client&#39;</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createInertiaApp } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Provider } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { store } <span class="im">from</span> <span class="st">&#39;./Store&#39;</span><span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterProvider } <span class="im">from</span> <span class="st">&#39;./Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">createInertiaApp</span>({</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">resolve</span><span class="op">:</span> <span class="kw">async</span> (name) <span class="kw">=&gt;</span> {</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> <span class="im">import</span>(<span class="vs">`./Pages/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">.jsx`</span>)<span class="op">;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> page<span class="op">.</span><span class="at">default</span><span class="op">;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setup</span>({ el<span class="op">,</span> App<span class="op">,</span> props }) {</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">createRoot</span>(el)<span class="op">.</span><span class="fu">render</span>(</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;</span>Provider store<span class="op">=</span>{store}<span class="op">&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                    <span class="op">&lt;</span>App {<span class="op">...</span>props} <span class="op">/&gt;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;/</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;/</span>Provider<span class="op">&gt;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Edit.jsx</code> to use React’s <code>lazy</code> and
<code>Suspense</code>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { Suspense } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useInertiaForm } <span class="im">from</span> <span class="st">&#39;../Hooks/useInertiaForm&#39;</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> Edit <span class="op">=</span> React<span class="op">.</span><span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./Edit&#39;</span>))<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">EditWrapper</span>({ task }) {</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;Suspense</span> <span class="ot">fallback</span><span class="op">=</span><span class="va">{</span><span class="kw">&lt;div&gt;</span>Loading...<span class="kw">&lt;/div&gt;</span><span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Edit</span> <span class="ot">task</span><span class="op">=</span><span class="va">{</span>task<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;/Suspense&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> EditWrapper<span class="op">;</span></span></code></pre></div></li>
<li><p>Move the original <code>Edit.jsx</code> content to a new file
<code>resources/js/Pages/Tasks/EditComponent.jsx</code>:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useInertiaForm } <span class="im">from</span> <span class="st">&#39;../Hooks/useInertiaForm&#39;</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Edit</span>({ task }) {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { form<span class="op">,</span> updateField<span class="op">,</span> submit } <span class="op">=</span> <span class="fu">useInertiaForm</span>({</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span><span class="op">:</span> task<span class="op">.</span><span class="at">title</span><span class="op">,</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">description</span><span class="op">:</span> task<span class="op">.</span><span class="at">description</span> <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">,</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">completed</span><span class="op">:</span> task<span class="op">.</span><span class="at">completed</span><span class="op">,</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Edit Task<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;form</span> <span class="ot">onSubmit</span><span class="op">=</span><span class="va">{</span>(e) <span class="kw">=&gt;</span> { e<span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span> <span class="fu">submit</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span> <span class="st">&#39;put&#39;</span>)<span class="op">;</span> }<span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/label&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;input</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">type</span><span class="op">=</span><span class="st">&quot;text&quot;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">value</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">title</span><span class="va">}</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span><span class="fu">updateField</span>(<span class="st">&#39;title&#39;</span>)<span class="va">}</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Description<span class="kw">&lt;/label&gt;</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;textarea</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">value</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">description</span><span class="va">}</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span><span class="fu">updateField</span>(<span class="st">&#39;description&#39;</span>)<span class="va">}</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;input</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">type</span><span class="op">=</span><span class="st">&quot;checkbox&quot;</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">checked</span><span class="op">=</span><span class="va">{</span>form<span class="op">.</span><span class="at">completed</span><span class="va">}</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span>(e) <span class="kw">=&gt;</span> <span class="fu">updateField</span>(<span class="st">&#39;completed&#39;</span>)({ <span class="dt">target</span><span class="op">:</span> { <span class="dt">value</span><span class="op">:</span> e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">checked</span> } })<span class="va">}</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">/&gt;</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>                        Completed</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/label&gt;</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span> <span class="ot">type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-blue-500 text-white p-2&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>                    Update</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;ml-4 text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                    Cancel</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/form&gt;</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Edit<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>resources/js/Pages/Tasks/Edit.jsx</code>:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { Suspense } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> EditComponent <span class="op">=</span> React<span class="op">.</span><span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./EditComponent&#39;</span>))<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Edit</span>({ task }) {</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;Suspense</span> <span class="ot">fallback</span><span class="op">=</span><span class="va">{</span><span class="kw">&lt;div&gt;</span>Loading...<span class="kw">&lt;/div&gt;</span><span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;EditComponent</span> <span class="ot">task</span><span class="op">=</span><span class="va">{</span>task<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;/Suspense&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Edit<span class="op">;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: The <code>Edit</code> component is
lazy-loaded, reducing the initial bundle size. <code>Suspense</code>
displays a fallback UI while the component loads.</p>
<h4 id="server-side-rendering-ssr-with-inertia">2.2 Server-Side
Rendering (SSR) with Inertia</h4>
<p>SSR improves initial page load performance and SEO. Let’s set up
Inertia SSR with React.</p>
<ul>
<li><p><strong>Install Dependencies</strong>:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install @inertiajs/server</span></code></pre></div></li>
<li><p><strong>Set Up SSR Server</strong>: Create
<code>resources/js/ssr.js</code>:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createInertiaApp } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { renderToString } <span class="im">from</span> <span class="st">&#39;react-dom/server&#39;</span><span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Provider } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { store } <span class="im">from</span> <span class="st">&#39;./Store&#39;</span><span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterProvider } <span class="im">from</span> <span class="st">&#39;./Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">createInertiaApp</span>({</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">resolve</span><span class="op">:</span> (name) <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="vs">`./Pages/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">.jsx`</span>)<span class="op">,</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setup</span>({ App<span class="op">,</span> props }) {</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fu">renderToString</span>(</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;</span>Provider store<span class="op">=</span>{store}<span class="op">&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                    <span class="op">&lt;</span>App {<span class="op">...</span>props} <span class="op">/&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;/</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;/</span>Provider<span class="op">&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update Laravel Configuration</strong>:</p>
<ul>
<li><p>Install the Inertia SSR package:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan inertia:ssr</span></code></pre></div></li>
<li><p>Update <code>config/inertia.php</code> (create if not
exists):</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> [</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;ssr&#39;</span> =&gt; [</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;enabled&#39;</span> =&gt; <span class="kw">true</span><span class="ot">,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;url&#39;</span> =&gt; <span class="st">&#39;http://127.0.0.1:13714&#39;</span><span class="ot">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    ]<span class="ot">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>]<span class="ot">;</span></span></code></pre></div></li>
</ul></li>
<li><p><strong>Run SSR Server</strong>:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> resources/js/ssr.js</span></code></pre></div></li>
<li><p><strong>Update Vite Config</strong>
(<code>vite.config.js</code>):</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { defineConfig } <span class="im">from</span> <span class="st">&#39;vite&#39;</span><span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> laravel <span class="im">from</span> <span class="st">&#39;laravel-vite-plugin&#39;</span><span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> react <span class="im">from</span> <span class="st">&#39;@vitejs/plugin-react&#39;</span><span class="op">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="fu">defineConfig</span>({</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">plugins</span><span class="op">:</span> [</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">laravel</span>({</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            <span class="dt">input</span><span class="op">:</span> [<span class="st">&#39;resources/css/app.css&#39;</span><span class="op">,</span> <span class="st">&#39;resources/js/app.js&#39;</span><span class="op">,</span> <span class="st">&#39;resources/js/ssr.js&#39;</span>]<span class="op">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            <span class="dt">ssr</span><span class="op">:</span> <span class="st">&#39;resources/js/ssr.js&#39;</span><span class="op">,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt">refresh</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">react</span>()<span class="op">,</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Build and Run</strong>:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run build</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan serve</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run ssr</span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: SSR renders the initial React markup on
the server, improving load times and SEO. The <code>ssr.js</code> file
handles server-side rendering, and Vite builds it for production.</p>
<hr />
<h3 id="step-3-real-time-updates-with-laravel-echo-and-pusher">Step 3:
Real-Time Updates with Laravel Echo and Pusher</h3>
<p>Add real-time task creation notifications using Laravel Echo and
Pusher.</p>
<h4 id="set-up-pusher">3.1 Set Up Pusher</h4>
<ul>
<li><p><strong>Install Dependencies</strong>:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">composer</span> require pusher/pusher-php-server</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install laravel-echo pusher-js</span></code></pre></div></li>
<li><p><strong>Configure Laravel</strong>:</p>
<ul>
<li><p>Update <code>.env</code>:</p>
<pre class="env"><code>BROADCAST_DRIVER=pusher
PUSHER_APP_ID=your-app-id
PUSHER_APP_KEY=your-app-key
PUSHER_APP_SECRET=your-app-secret
PUSHER_APP_CLUSTER=your-cluster</code></pre></li>
</ul></li>
<li><p><strong>Set Up Broadcasting</strong>:</p>
<ul>
<li><p>Update <code>config/app.php</code>:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;providers&#39;</span> =&gt; [</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    \<span class="cn">I</span>lluminate\<span class="cn">B</span>roadcasting\<span class="cn">B</span>roadcastServiceProvider::<span class="kw">class</span><span class="ot">,</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>]<span class="ot">,</span></span></code></pre></div></li>
</ul></li>
<li><p><strong>Create a TaskCreated Event</strong>:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan make:event TaskCreated</span></code></pre></div></li>
<li><p>Update <code>app/Events/TaskCreated.php</code>:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">E</span>vents<span class="ot">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels\<span class="cn">T</span>ask<span class="ot">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">B</span>roadcasting\<span class="cn">C</span>hannel<span class="ot">;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">B</span>roadcasting\<span class="cn">I</span>nteractsWithSockets<span class="ot">;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">C</span>ontracts\<span class="cn">B</span>roadcasting\<span class="cn">S</span>houldBroadcast<span class="ot">;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">F</span>oundation\<span class="cn">E</span>vents\<span class="cn">D</span>ispatchable<span class="ot">;</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>askCreated <span class="kw">implements</span> <span class="cn">S</span>houldBroadcast</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">use</span> <span class="cn">D</span>ispatchable<span class="ot">,</span> <span class="cn">I</span>nteractsWithSockets<span class="ot">;</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="va">$task</span><span class="ot">;</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> <span class="bu">__construct</span>(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">$this</span>-&gt;task <span class="op">=</span> <span class="va">$task</span><span class="ot">;</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> broadcastOn()</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">new</span> <span class="cn">C</span>hannel(<span class="st">&#39;tasks&#39;</span>)<span class="ot">;</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Trigger the Event</strong>: Update
<code>TaskController.php</code>’s <code>store</code> method:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> store(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span> <span class="op">=</span> <span class="cn">T</span>ask::create(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    event(<span class="kw">new</span> \<span class="cn">A</span>pp\<span class="cn">E</span>vents\<span class="cn">T</span>askCreated(<span class="va">$task</span>))<span class="ot">;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task created!&#39;</span>)<span class="ot">;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
<h4 id="set-up-laravel-echo-in-react">3.2 Set Up Laravel Echo in
React</h4>
<ul>
<li><p><strong>Configure Echo</strong>: Create
<code>resources/js/bootstrap.js</code>:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Echo <span class="im">from</span> <span class="st">&#39;laravel-echo&#39;</span><span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Pusher <span class="im">from</span> <span class="st">&#39;pusher-js&#39;</span><span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">Pusher</span> <span class="op">=</span> Pusher<span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">Echo</span> <span class="op">=</span> <span class="kw">new</span> <span class="fu">Echo</span>({</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">broadcaster</span><span class="op">:</span> <span class="st">&#39;pusher&#39;</span><span class="op">,</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">key</span><span class="op">:</span> <span class="im">import</span><span class="op">.</span><span class="at">meta</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_PUSHER_APP_KEY</span><span class="op">,</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">cluster</span><span class="op">:</span> <span class="im">import</span><span class="op">.</span><span class="at">meta</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_PUSHER_APP_CLUSTER</span><span class="op">,</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">forceTLS</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update Vite Environment</strong>: Add to
<code>.env</code>:</p>
<pre class="env"><code>VITE_PUSHER_APP_KEY=your-app-key
VITE_PUSHER_APP_CLUSTER=your-cluster</code></pre></li>
<li><p><strong>Update <code>app.js</code></strong> to include
<code>bootstrap.js</code>:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">&#39;./bootstrap&#39;</span><span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createRoot } <span class="im">from</span> <span class="st">&#39;react-dom/client&#39;</span><span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createInertiaApp } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Provider } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { store } <span class="im">from</span> <span class="st">&#39;./Store&#39;</span><span class="op">;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterProvider } <span class="im">from</span> <span class="st">&#39;./Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">createInertiaApp</span>({</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">resolve</span><span class="op">:</span> <span class="kw">async</span> (name) <span class="kw">=&gt;</span> {</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> <span class="im">import</span>(<span class="vs">`./Pages/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">.jsx`</span>)<span class="op">;</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> page<span class="op">.</span><span class="at">default</span><span class="op">;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setup</span>({ el<span class="op">,</span> App<span class="op">,</span> props }) {</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">createRoot</span>(el)<span class="op">.</span><span class="fu">render</span>(</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;</span>Provider store<span class="op">=</span>{store}<span class="op">&gt;</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>                    <span class="op">&lt;</span>App {<span class="op">...</span>props} <span class="op">/&gt;</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;/</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;/</span>Provider<span class="op">&gt;</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
</ul>
<h4 id="listen-for-real-time-updates-in-index.jsx">3.3 Listen for
Real-Time Updates in <code>Index.jsx</code></h4>
<p>Update <code>Index.jsx</code> to listen for new tasks and update the
Redux store.</p>
<ul>
<li><p>Update <code>taskSlice.js</code>:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createSlice<span class="op">,</span> createAsyncThunk } <span class="im">from</span> <span class="st">&#39;@reduxjs/toolkit&#39;</span><span class="op">;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">const</span> fetchTasks <span class="op">=</span> <span class="fu">createAsyncThunk</span>(<span class="st">&#39;tasks/fetchTasks&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;/api/tasks&#39;</span>)<span class="op">;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> taskSlice <span class="op">=</span> <span class="fu">createSlice</span>({</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;tasks&#39;</span><span class="op">,</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">initialState</span><span class="op">:</span> { <span class="dt">tasks</span><span class="op">:</span> []<span class="op">,</span> <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;idle&#39;</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> <span class="kw">null</span> }<span class="op">,</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">reducers</span><span class="op">:</span> {</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">setTasks</span><span class="op">:</span> (state<span class="op">,</span> action) <span class="kw">=&gt;</span> {</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>            state<span class="op">.</span><span class="at">tasks</span> <span class="op">=</span> action<span class="op">.</span><span class="at">payload</span><span class="op">;</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">addTask</span><span class="op">:</span> (state<span class="op">,</span> action) <span class="kw">=&gt;</span> {</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>            state<span class="op">.</span><span class="at">tasks</span><span class="op">.</span><span class="fu">push</span>(action<span class="op">.</span><span class="at">payload</span>)<span class="op">;</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">extraReducers</span><span class="op">:</span> (builder) <span class="kw">=&gt;</span> {</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>        builder</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">addCase</span>(fetchTasks<span class="op">.</span><span class="at">pending</span><span class="op">,</span> (state) <span class="kw">=&gt;</span> {</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>                state<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;loading&#39;</span><span class="op">;</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">addCase</span>(fetchTasks<span class="op">.</span><span class="at">fulfilled</span><span class="op">,</span> (state<span class="op">,</span> action) <span class="kw">=&gt;</span> {</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>                state<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;succeeded&#39;</span><span class="op">;</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>                state<span class="op">.</span><span class="at">tasks</span> <span class="op">=</span> action<span class="op">.</span><span class="at">payload</span><span class="op">;</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">addCase</span>(fetchTasks<span class="op">.</span><span class="at">rejected</span><span class="op">,</span> (state<span class="op">,</span> action) <span class="kw">=&gt;</span> {</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>                state<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;failed&#39;</span><span class="op">;</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>                state<span class="op">.</span><span class="at">error</span> <span class="op">=</span> action<span class="op">.</span><span class="at">error</span><span class="op">.</span><span class="at">message</span><span class="op">;</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>            })<span class="op">;</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">const</span> { setTasks<span class="op">,</span> addTask } <span class="op">=</span> taskSlice<span class="op">.</span><span class="at">actions</span><span class="op">;</span></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> taskSlice<span class="op">.</span><span class="at">reducer</span><span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Index.jsx</code>:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { useContext<span class="op">,</span> useEffect } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link<span class="op">,</span> usePage } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useDispatch<span class="op">,</span> useSelector } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { addTask } <span class="im">from</span> <span class="st">&#39;../Store/taskSlice&#39;</span><span class="op">;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterContext } <span class="im">from</span> <span class="st">&#39;../Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Index</span>({ <span class="dt">tasks</span><span class="op">:</span> initialTasks }) {</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { flash } <span class="op">=</span> <span class="fu">usePage</span>()<span class="op">.</span><span class="at">props</span><span class="op">;</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dispatch <span class="op">=</span> <span class="fu">useDispatch</span>()<span class="op">;</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> tasks <span class="op">=</span> <span class="fu">useSelector</span>((state) <span class="kw">=&gt;</span> state<span class="op">.</span><span class="at">tasks</span><span class="op">.</span><span class="at">tasks</span>)<span class="op">;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { filter<span class="op">,</span> setFilter } <span class="op">=</span> <span class="fu">useContext</span>(FilterContext)<span class="op">;</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">dispatch</span>(<span class="fu">setTasks</span>(initialTasks))<span class="op">;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">window</span><span class="op">.</span><span class="at">Echo</span><span class="op">.</span><span class="fu">channel</span>(<span class="st">&#39;tasks&#39;</span>)<span class="op">.</span><span class="fu">listen</span>(<span class="st">&#39;TaskCreated&#39;</span><span class="op">,</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">dispatch</span>(<span class="fu">addTask</span>(e<span class="op">.</span><span class="at">task</span>))<span class="op">;</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>            <span class="bu">window</span><span class="op">.</span><span class="at">Echo</span><span class="op">.</span><span class="fu">leaveChannel</span>(<span class="st">&#39;tasks&#39;</span>)<span class="op">;</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> [initialTasks<span class="op">,</span> dispatch])<span class="op">;</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> filteredTasks <span class="op">=</span> tasks<span class="op">.</span><span class="fu">filter</span>((task) <span class="kw">=&gt;</span> {</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;completed&#39;</span>) <span class="cf">return</span> task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;pending&#39;</span>) <span class="cf">return</span> <span class="op">!</span>task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleDelete <span class="op">=</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">confirm</span>(<span class="st">&#39;Are you sure you want to delete this task?&#39;</span>)) {</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>            Inertia<span class="op">.</span><span class="fu">delete</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Task Manager<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>            <span class="va">{</span>flash<span class="op">.</span><span class="at">message</span> <span class="op">&amp;&amp; </span><span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-green-600&quot;</span><span class="kw">&gt;</span><span class="va">{</span>flash<span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/div&gt;</span><span class="va">}</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks/create&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>                Add New Task</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;my-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;all&#39;</span>)<span class="va">}</span></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>                    All</span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;completed&#39;</span>)<span class="va">}</span></span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a>                    Completed</span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;pending&#39;</span>)<span class="va">}</span></span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb27-61"><a href="#cb27-61" aria-hidden="true" tabindex="-1"></a>                    Pending</span>
<span id="cb27-62"><a href="#cb27-62" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb27-63"><a href="#cb27-63" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb27-64"><a href="#cb27-64" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;ul</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;list-none p-0&quot;</span><span class="kw">&gt;</span></span>
<span id="cb27-65"><a href="#cb27-65" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>filteredTasks<span class="op">.</span><span class="fu">map</span>((task) <span class="kw">=&gt;</span> (</span>
<span id="cb27-66"><a href="#cb27-66" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;li</span></span>
<span id="cb27-67"><a href="#cb27-67" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">key</span><span class="op">=</span><span class="va">{</span>task<span class="op">.</span><span class="at">id</span><span class="va">}</span></span>
<span id="cb27-68"><a href="#cb27-68" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span></span>
<span id="cb27-69"><a href="#cb27-69" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&gt;</span></span>
<span id="cb27-70"><a href="#cb27-70" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;span&gt;</span></span>
<span id="cb27-71"><a href="#cb27-71" aria-hidden="true" tabindex="-1"></a>                            <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="st">&#39;Done&#39;</span> <span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="va">}</span></span>
<span id="cb27-72"><a href="#cb27-72" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/span&gt;</span></span>
<span id="cb27-73"><a href="#cb27-73" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;div&gt;</span></span>
<span id="cb27-74"><a href="#cb27-74" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;Link</span></span>
<span id="cb27-75"><a href="#cb27-75" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb27-76"><a href="#cb27-76" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb27-77"><a href="#cb27-77" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&gt;</span></span>
<span id="cb27-78"><a href="#cb27-78" aria-hidden="true" tabindex="-1"></a>                                Edit</span>
<span id="cb27-79"><a href="#cb27-79" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb27-80"><a href="#cb27-80" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;button</span></span>
<span id="cb27-81"><a href="#cb27-81" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">handleDelete</span>(task<span class="op">.</span><span class="at">id</span>)<span class="va">}</span></span>
<span id="cb27-82"><a href="#cb27-82" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb27-83"><a href="#cb27-83" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&gt;</span></span>
<span id="cb27-84"><a href="#cb27-84" aria-hidden="true" tabindex="-1"></a>                                Delete</span>
<span id="cb27-85"><a href="#cb27-85" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;/button&gt;</span></span>
<span id="cb27-86"><a href="#cb27-86" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb27-87"><a href="#cb27-87" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb27-88"><a href="#cb27-88" aria-hidden="true" tabindex="-1"></a>                ))<span class="va">}</span></span>
<span id="cb27-89"><a href="#cb27-89" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/ul&gt;</span></span>
<span id="cb27-90"><a href="#cb27-90" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb27-91"><a href="#cb27-91" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb27-92"><a href="#cb27-92" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-93"><a href="#cb27-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-94"><a href="#cb27-94" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="bu">Index</span><span class="op">;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: Laravel Echo listens for
<code>TaskCreated</code> events on the <code>tasks</code> channel,
dispatching new tasks to the Redux store for real-time updates.</p>
<hr />
<h3 id="step-4-testing-the-app">Step 4: Testing the App</h3>
<ol type="1">
<li><p><strong>Run the App</strong>:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan serve</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run dev</span></code></pre></div></li>
<li><p><strong>Test Edit/Delete</strong>:</p>
<ul>
<li>Visit <code>http://localhost:8000/tasks</code>.</li>
<li>Create a task, then click “Edit” to modify it or “Delete” to remove
it.</li>
<li>Verify flash messages and list updates.</li>
</ul></li>
<li><p><strong>Test Real-Time Updates</strong>:</p>
<ul>
<li>Open two browser windows at
<code>http://localhost:8000/tasks</code>.</li>
<li>Create a task in one window and confirm it appears in the other
without refreshing.</li>
</ul></li>
<li><p><strong>Test SSR and Lazy Loading</strong>:</p>
<ul>
<li>Check the network tab in browser DevTools to confirm SSR (initial
HTML includes rendered content).</li>
<li>Visit <code>/tasks/{id}/edit</code> and observe the “Loading…”
fallback during lazy loading.</li>
</ul></li>
</ol>
<hr />
<h3 id="summary">Summary</h3>
<ul>
<li><strong>Edit/Delete Functionality</strong>: Added edit and delete
features with new routes, a controller, and an <code>Edit.jsx</code>
component using <code>useInertiaForm</code>.</li>
<li><strong>Advanced Inertia Features</strong>:
<ul>
<li><strong>Lazy Loading</strong>: Implemented <code>React.lazy</code>
and <code>Suspense</code> for the <code>Edit</code> component to improve
performance.</li>
<li><strong>SSR</strong>: Set up Inertia SSR for better initial load
times and SEO.</li>
</ul></li>
<li><strong>Real-Time Updates</strong>: Integrated Laravel Echo and
Pusher to display new tasks in real-time using Redux.</li>
</ul>
