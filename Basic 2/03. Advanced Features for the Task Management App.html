<h2 id="part-4-advanced-features-for-the-task-management-app">Part 4:
Advanced Features for the Task Management App</h2>
<h3 id="step-1-adding-task-categories-search-and-pagination">Step 1:
Adding Task Categories, Search, and Pagination</h3>
<p>Letâ€™s enhance the app by adding task categories, a search bar, and
server-side pagination to handle large datasets efficiently.</p>
<h4 id="task-categories">1.1 Task Categories</h4>
<ul>
<li><p><strong>Update the Task Model</strong>:</p>
<ul>
<li><p>Create a <code>Category</code> model and migration:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan make:model Category <span class="at">-m</span></span></code></pre></div></li>
<li><p>Update
<code>database/migrations/..._create_categories_table.php</code>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cn">S</span>chema::create(<span class="st">&#39;categories&#39;</span><span class="ot">,</span> <span class="kw">function</span> (<span class="cn">B</span>lueprint <span class="va">$table</span>) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;id()<span class="ot">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;<span class="dt">string</span>(<span class="st">&#39;name&#39;</span>)<span class="ot">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;timestamps()<span class="ot">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>})<span class="ot">;</span></span></code></pre></div></li>
<li><p>Update the <code>tasks</code> migration to include a
<code>category_id</code>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cn">S</span>chema::create(<span class="st">&#39;tasks&#39;</span><span class="ot">,</span> <span class="kw">function</span> (<span class="cn">B</span>lueprint <span class="va">$table</span>) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;id()<span class="ot">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;<span class="dt">string</span>(<span class="st">&#39;title&#39;</span>)<span class="ot">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;text(<span class="st">&#39;description&#39;</span>)-&gt;nullable()<span class="ot">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;boolean(<span class="st">&#39;completed&#39;</span>)-&gt;<span class="cf">default</span>(<span class="kw">false</span>)<span class="ot">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;foreignId(<span class="st">&#39;category_id&#39;</span>)-&gt;nullable()-&gt;constrained()-&gt;onDelete(<span class="st">&#39;set null&#39;</span>)<span class="ot">;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;timestamps()<span class="ot">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>})<span class="ot">;</span></span></code></pre></div></li>
<li><p>Run migrations:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan migrate</span></code></pre></div></li>
</ul></li>
<li><p><strong>Define Relationships</strong>:</p>
<ul>
<li><p>In <code>app/Models/Task.php</code>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels<span class="ot">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">D</span>atabase\<span class="cn">E</span>loquent\<span class="cn">M</span>odel<span class="ot">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>ask <span class="kw">extends</span> <span class="cn">M</span>odel</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="va">$fillable</span> <span class="op">=</span> [<span class="st">&#39;title&#39;</span><span class="ot">,</span> <span class="st">&#39;description&#39;</span><span class="ot">,</span> <span class="st">&#39;completed&#39;</span><span class="ot">,</span> <span class="st">&#39;category_id&#39;</span>]<span class="ot">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> category()</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$this</span>-&gt;belongsTo(<span class="cn">C</span>ategory::<span class="kw">class</span>)<span class="ot">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>In <code>app/Models/Category.php</code>:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels<span class="ot">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">D</span>atabase\<span class="cn">E</span>loquent\<span class="cn">M</span>odel<span class="ot">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">C</span>ategory <span class="kw">extends</span> <span class="cn">M</span>odel</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="va">$fillable</span> <span class="op">=</span> [<span class="st">&#39;name&#39;</span>]<span class="ot">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> tasks()</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$this</span>-&gt;hasMany(<span class="cn">T</span>ask::<span class="kw">class</span>)<span class="ot">;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul></li>
<li><p><strong>Seed Categories</strong>:</p>
<ul>
<li><p>Create a seeder:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan make:seeder CategorySeeder</span></code></pre></div></li>
<li><p>Update <code>database/seeders/CategorySeeder.php</code>:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">D</span>atabase\<span class="cn">S</span>eeders<span class="ot">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels\<span class="cn">C</span>ategory<span class="ot">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">D</span>atabase\<span class="cn">S</span>eeder<span class="ot">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">C</span>ategorySeeder <span class="kw">extends</span> <span class="cn">S</span>eeder</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> run()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="cn">C</span>ategory::create([<span class="st">&#39;name&#39;</span> =&gt; <span class="st">&#39;Work&#39;</span>])<span class="ot">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="cn">C</span>ategory::create([<span class="st">&#39;name&#39;</span> =&gt; <span class="st">&#39;Personal&#39;</span>])<span class="ot">;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="cn">C</span>ategory::create([<span class="st">&#39;name&#39;</span> =&gt; <span class="st">&#39;Urgent&#39;</span>])<span class="ot">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Run the seeder:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan db:seed <span class="at">--class</span><span class="op">=</span>CategorySeeder</span></code></pre></div></li>
</ul></li>
<li><p><strong>Update TaskController</strong>:</p>
<ul>
<li><p>Modify <code>index</code> to include categories:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> index(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">$tasks</span> <span class="op">=</span> <span class="cn">T</span>ask::with(<span class="st">&#39;category&#39;</span>)-&gt;get()<span class="ot">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Index&#39;</span><span class="ot">,</span> [</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks&#39;</span> =&gt; <span class="va">$tasks</span><span class="ot">,</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Update <code>create</code> and <code>store</code>:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> create()</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Create&#39;</span><span class="ot">,</span> [<span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span>])<span class="ot">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> store(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;category_id&#39;</span> =&gt; <span class="st">&#39;nullable|exists:categories,id&#39;</span><span class="ot">,</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span> <span class="op">=</span> <span class="cn">T</span>ask::create(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    event(<span class="kw">new</span> \<span class="cn">A</span>pp\<span class="cn">E</span>vents\<span class="cn">T</span>askCreated(<span class="va">$task</span>))<span class="ot">;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task created!&#39;</span>)<span class="ot">;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Update <code>edit</code> and <code>update</code>:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> edit(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Edit&#39;</span><span class="ot">,</span> [</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;task&#39;</span> =&gt; <span class="va">$task</span><span class="ot">,</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> update(<span class="cn">R</span>equest <span class="va">$request</span><span class="ot">,</span> <span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;completed&#39;</span> =&gt; <span class="st">&#39;boolean&#39;</span><span class="ot">,</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;category_id&#39;</span> =&gt; <span class="st">&#39;nullable|exists:categories,id&#39;</span><span class="ot">,</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span>-&gt;update(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task updated!&#39;</span>)<span class="ot">;</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul></li>
<li><p><strong>Update Create Component</strong>
(<code>resources/js/Pages/Tasks/Create.jsx</code>):</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useForm } <span class="im">from</span> <span class="st">&#39;react-hook-form&#39;</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { yupResolver } <span class="im">from</span> <span class="st">&#39;@hookform/resolvers/yup&#39;</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> Yup <span class="im">from</span> <span class="st">&#39;yup&#39;</span><span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> schema <span class="op">=</span> Yup<span class="op">.</span><span class="fu">object</span>()<span class="op">.</span><span class="fu">shape</span>({</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">required</span>(<span class="st">&#39;Title is required&#39;</span>)<span class="op">.</span><span class="fu">max</span>(<span class="dv">255</span><span class="op">,</span> <span class="st">&#39;Title is too long&#39;</span>)<span class="op">,</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">description</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">nullable</span>()<span class="op">,</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">category_id</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">number</span>()<span class="op">.</span><span class="fu">nullable</span>()<span class="op">,</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Create</span>({ categories }) {</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { register<span class="op">,</span> handleSubmit<span class="op">,</span> <span class="dt">formState</span><span class="op">:</span> { errors }<span class="op">,</span> reset } <span class="op">=</span> <span class="fu">useForm</span>({</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">resolver</span><span class="op">:</span> <span class="fu">yupResolver</span>(schema)<span class="op">,</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        <span class="dt">defaultValues</span><span class="op">:</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span> <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span> <span class="dt">category_id</span><span class="op">:</span> <span class="st">&#39;&#39;</span> }<span class="op">,</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> onSubmit <span class="op">=</span> (data) <span class="kw">=&gt;</span> {</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>        Inertia<span class="op">.</span><span class="fu">post</span>(<span class="st">&#39;/tasks&#39;</span><span class="op">,</span> data<span class="op">,</span> { <span class="dt">onSuccess</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="fu">reset</span>() })<span class="op">;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Create Task<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;form</span> <span class="ot">onSubmit</span><span class="op">=</span><span class="va">{</span><span class="fu">handleSubmit</span>(onSubmit)<span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/label&gt;</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;input</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>                        <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;title&#39;</span>)<span class="va">}</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>                    <span class="va">{</span>errors<span class="op">.</span><span class="at">title</span> <span class="op">&amp;&amp; </span><span class="kw">&lt;p</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600&quot;</span><span class="kw">&gt;</span><span class="va">{</span>errors<span class="op">.</span><span class="at">title</span><span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/p&gt;</span><span class="va">}</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Description<span class="kw">&lt;/label&gt;</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;textarea</span> <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;description&#39;</span>)<span class="va">}</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Category<span class="kw">&lt;/label&gt;</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;select</span> <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;category_id&#39;</span>)<span class="va">}</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;option</span> <span class="ot">value</span><span class="op">=</span><span class="st">&quot;&quot;</span><span class="kw">&gt;</span>Select a category<span class="kw">&lt;/option&gt;</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>                        <span class="va">{</span>categories<span class="op">.</span><span class="fu">map</span>((category) <span class="kw">=&gt;</span> (</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;option</span> <span class="ot">key</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span> <span class="ot">value</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>                                <span class="va">{</span>category<span class="op">.</span><span class="at">name</span><span class="va">}</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;/option&gt;</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>                        ))<span class="va">}</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/select&gt;</span></span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span> <span class="ot">type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-blue-500 text-white p-2&quot;</span><span class="kw">&gt;</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>                    Create</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/form&gt;</span></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Create<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update Edit Component</strong>
(<code>resources/js/Pages/Tasks/EditComponent.jsx</code>):</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useForm } <span class="im">from</span> <span class="st">&#39;react-hook-form&#39;</span><span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { yupResolver } <span class="im">from</span> <span class="st">&#39;@hookform/resolvers/yup&#39;</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> Yup <span class="im">from</span> <span class="st">&#39;yup&#39;</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> schema <span class="op">=</span> Yup<span class="op">.</span><span class="fu">object</span>()<span class="op">.</span><span class="fu">shape</span>({</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">required</span>(<span class="st">&#39;Title is required&#39;</span>)<span class="op">.</span><span class="fu">max</span>(<span class="dv">255</span><span class="op">,</span> <span class="st">&#39;Title is too long&#39;</span>)<span class="op">,</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">description</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">nullable</span>()<span class="op">,</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">completed</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">boolean</span>()<span class="op">,</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">category_id</span><span class="op">:</span> Yup<span class="op">.</span><span class="fu">number</span>()<span class="op">.</span><span class="fu">nullable</span>()<span class="op">,</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Edit</span>({ task<span class="op">,</span> categories }) {</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { register<span class="op">,</span> handleSubmit<span class="op">,</span> <span class="dt">formState</span><span class="op">:</span> { errors } } <span class="op">=</span> <span class="fu">useForm</span>({</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">resolver</span><span class="op">:</span> <span class="fu">yupResolver</span>(schema)<span class="op">,</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">defaultValues</span><span class="op">:</span> {</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>            <span class="dt">title</span><span class="op">:</span> task<span class="op">.</span><span class="at">title</span><span class="op">,</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>            <span class="dt">description</span><span class="op">:</span> task<span class="op">.</span><span class="at">description</span> <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">,</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>            <span class="dt">completed</span><span class="op">:</span> task<span class="op">.</span><span class="at">completed</span><span class="op">,</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>            <span class="dt">category_id</span><span class="op">:</span> task<span class="op">.</span><span class="at">category_id</span> <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">,</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> onSubmit <span class="op">=</span> (data) <span class="kw">=&gt;</span> {</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        Inertia<span class="op">.</span><span class="fu">put</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Edit Task<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;form</span> <span class="ot">onSubmit</span><span class="op">=</span><span class="va">{</span><span class="fu">handleSubmit</span>(onSubmit)<span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/label&gt;</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;input</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>                        <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;title&#39;</span>)<span class="va">}</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">/&gt;</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>                    <span class="va">{</span>errors<span class="op">.</span><span class="at">title</span> <span class="op">&amp;&amp; </span><span class="kw">&lt;p</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600&quot;</span><span class="kw">&gt;</span><span class="va">{</span>errors<span class="op">.</span><span class="at">title</span><span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/p&gt;</span><span class="va">}</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Description<span class="kw">&lt;/label&gt;</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;textarea</span> <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;description&#39;</span>)<span class="va">}</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Category<span class="kw">&lt;/label&gt;</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;select</span> <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;category_id&#39;</span>)<span class="va">}</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;option</span> <span class="ot">value</span><span class="op">=</span><span class="st">&quot;&quot;</span><span class="kw">&gt;</span>Select a category<span class="kw">&lt;/option&gt;</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>                        <span class="va">{</span>categories<span class="op">.</span><span class="fu">map</span>((category) <span class="kw">=&gt;</span> (</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;option</span> <span class="ot">key</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span> <span class="ot">value</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span><span class="kw">&gt;</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>                                <span class="va">{</span>category<span class="op">.</span><span class="at">name</span><span class="va">}</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;/option&gt;</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>                        ))<span class="va">}</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/select&gt;</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;label</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;input</span> <span class="ot">type</span><span class="op">=</span><span class="st">&quot;checkbox&quot;</span> <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;completed&#39;</span>)<span class="va">}</span> <span class="kw">/&gt;</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>                        Completed</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/label&gt;</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/div&gt;</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span> <span class="ot">type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;bg-blue-500 text-white p-2&quot;</span><span class="kw">&gt;</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>                    Update</span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;ml-4 text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>                    Cancel</span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/form&gt;</span></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Edit<span class="op">;</span></span></code></pre></div></li>
</ul>
<h4 id="search-and-pagination">1.2 Search and Pagination</h4>
<ul>
<li><p><strong>Update TaskController</strong>: Modify <code>index</code>
to handle search and pagination:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> index(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$query</span> <span class="op">=</span> <span class="cn">T</span>ask::with(<span class="st">&#39;category&#39;</span>)<span class="ot">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">$request</span>-&gt;has(<span class="st">&#39;search&#39;</span>)) {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">$query</span>-&gt;where(<span class="st">&#39;title&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>              -&gt;orWhere(<span class="st">&#39;description&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)<span class="ot">;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">$tasks</span> <span class="op">=</span> <span class="va">$query</span>-&gt;paginate(<span class="dv">10</span>)<span class="ot">;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Index&#39;</span><span class="ot">,</span> [</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks&#39;</span> =&gt; <span class="va">$tasks</span><span class="ot">,</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;filters&#39;</span> =&gt; [<span class="st">&#39;search&#39;</span> =&gt; <span class="va">$request</span>-&gt;search]<span class="ot">,</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Update Index Component</strong>
(<code>resources/js/Pages/Tasks/Index.jsx</code>):</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { useContext<span class="op">,</span> useEffect<span class="op">,</span> useState } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link<span class="op">,</span> usePage } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useDispatch<span class="op">,</span> useSelector } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { setTasks<span class="op">,</span> addTask } <span class="im">from</span> <span class="st">&#39;../Store/taskSlice&#39;</span><span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterContext } <span class="im">from</span> <span class="st">&#39;../Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Index</span>({ <span class="dt">tasks</span><span class="op">:</span> initialTasks<span class="op">,</span> categories<span class="op">,</span> filters }) {</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { flash } <span class="op">=</span> <span class="fu">usePage</span>()<span class="op">.</span><span class="at">props</span><span class="op">;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dispatch <span class="op">=</span> <span class="fu">useDispatch</span>()<span class="op">;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> tasks <span class="op">=</span> <span class="fu">useSelector</span>((state) <span class="kw">=&gt;</span> state<span class="op">.</span><span class="at">tasks</span><span class="op">.</span><span class="at">tasks</span>)<span class="op">;</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { filter<span class="op">,</span> setFilter } <span class="op">=</span> <span class="fu">useContext</span>(FilterContext)<span class="op">;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> [search<span class="op">,</span> setSearch] <span class="op">=</span> <span class="fu">useState</span>(filters<span class="op">.</span><span class="at">search</span> <span class="op">||</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">dispatch</span>(<span class="fu">setTasks</span>(initialTasks<span class="op">.</span><span class="at">data</span>))<span class="op">;</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">window</span><span class="op">.</span><span class="at">Echo</span><span class="op">.</span><span class="fu">channel</span>(<span class="st">&#39;tasks&#39;</span>)<span class="op">.</span><span class="fu">listen</span>(<span class="st">&#39;TaskCreated&#39;</span><span class="op">,</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>            <span class="fu">dispatch</span>(<span class="fu">addTask</span>(e<span class="op">.</span><span class="at">task</span>))<span class="op">;</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>            <span class="bu">window</span><span class="op">.</span><span class="at">Echo</span><span class="op">.</span><span class="fu">leaveChannel</span>(<span class="st">&#39;tasks&#39;</span>)<span class="op">;</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span> [initialTasks<span class="op">.</span><span class="at">data</span><span class="op">,</span> dispatch])<span class="op">;</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> filteredTasks <span class="op">=</span> tasks<span class="op">.</span><span class="fu">filter</span>((task) <span class="kw">=&gt;</span> {</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;completed&#39;</span>) <span class="cf">return</span> task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (filter <span class="op">===</span> <span class="st">&#39;pending&#39;</span>) <span class="cf">return</span> <span class="op">!</span>task<span class="op">.</span><span class="at">completed</span><span class="op">;</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (filter <span class="op">!==</span> <span class="st">&#39;all&#39;</span> <span class="op">&amp;&amp;</span> filter <span class="op">!==</span> <span class="st">&#39;completed&#39;</span> <span class="op">&amp;&amp;</span> filter <span class="op">!==</span> <span class="st">&#39;pending&#39;</span>) {</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> task<span class="op">.</span><span class="at">category_id</span> <span class="op">===</span> <span class="pp">parseInt</span>(filter)<span class="op">;</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleDelete <span class="op">=</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">confirm</span>(<span class="st">&#39;Are you sure you want to delete this task?&#39;</span>)) {</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>            Inertia<span class="op">.</span><span class="fu">delete</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleSearch <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">setSearch</span>(e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">value</span>)<span class="op">;</span></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>        Inertia<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;/tasks&#39;</span><span class="op">,</span> { <span class="dt">search</span><span class="op">:</span> e<span class="op">.</span><span class="at">target</span><span class="op">.</span><span class="at">value</span> }<span class="op">,</span> { <span class="dt">preserveState</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;max-w-2xl mx-auto p-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;h1</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-2xl font-bold&quot;</span><span class="kw">&gt;</span>Task Manager<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>            <span class="va">{</span>flash<span class="op">.</span><span class="at">message</span> <span class="op">&amp;&amp; </span><span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-green-600&quot;</span><span class="kw">&gt;</span><span class="va">{</span>flash<span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/div&gt;</span><span class="va">}</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Link</span> <span class="ot">href</span><span class="op">=</span><span class="st">&quot;/tasks/create&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline&quot;</span><span class="fu">&gt;</span></span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>                Add New Task</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;my-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;input</span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">type</span><span class="op">=</span><span class="st">&quot;text&quot;</span></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">value</span><span class="op">=</span><span class="va">{</span>search<span class="va">}</span></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onChange</span><span class="op">=</span><span class="va">{</span>handleSearch<span class="va">}</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">placeholder</span><span class="op">=</span><span class="st">&quot;Search tasks...&quot;</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full mb-2&quot;</span></span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>                <span class="kw">/&gt;</span></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;all&#39;</span>)<span class="va">}</span></span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>                    All</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;completed&#39;</span>)<span class="va">}</span></span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>                    Completed</span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(<span class="st">&#39;pending&#39;</span>)<span class="va">}</span></span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>                    Pending</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>categories<span class="op">.</span><span class="fu">map</span>((category) <span class="kw">=&gt;</span> (</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;button</span></span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">key</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span></span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(category<span class="op">.</span><span class="at">id</span><span class="op">.</span><span class="fu">toString</span>())<span class="va">}</span></span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 bg-gray-200 p-2 rounded&quot;</span></span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&gt;</span></span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>                        <span class="va">{</span>category<span class="op">.</span><span class="at">name</span><span class="va">}</span></span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>                ))<span class="va">}</span></span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;ul</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;list-none p-0&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>filteredTasks<span class="op">.</span><span class="fu">map</span>((task) <span class="kw">=&gt;</span> (</span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;li</span></span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">key</span><span class="op">=</span><span class="va">{</span>task<span class="op">.</span><span class="at">id</span><span class="va">}</span></span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span></span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&gt;</span></span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;span&gt;</span></span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a>                            <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="st">&#39;Done&#39;</span> <span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="va">}</span> </span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>                            <span class="va">{</span>task<span class="op">.</span><span class="at">category</span> <span class="op">&amp;&amp;</span> <span class="vs">` (</span><span class="sc">${</span>task<span class="op">.</span><span class="at">category</span><span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">)`</span><span class="va">}</span></span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/span&gt;</span></span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;div&gt;</span></span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;Link</span></span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&gt;</span></span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>                                Edit</span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;button</span></span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">handleDelete</span>(task<span class="op">.</span><span class="at">id</span>)<span class="va">}</span></span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a>                                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&gt;</span></span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a>                                Delete</span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a>                            <span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">&lt;/li&gt;</span></span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a>                ))<span class="va">}</span></span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/ul&gt;</span></span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mt-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>initialTasks<span class="op">.</span><span class="at">links</span><span class="op">.</span><span class="fu">map</span>((link<span class="op">,</span> index) <span class="kw">=&gt;</span> (</span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">&lt;Link</span></span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">key</span><span class="op">=</span><span class="va">{</span>index<span class="va">}</span></span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">href</span><span class="op">=</span><span class="va">{</span>link<span class="op">.</span><span class="at">url</span><span class="va">}</span></span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">className</span><span class="op">=</span><span class="va">{</span><span class="vs">`mr-2 p-2 </span><span class="sc">${</span>link<span class="op">.</span><span class="at">active</span> <span class="op">?</span> <span class="st">&#39;bg-blue-500 text-white&#39;</span> <span class="op">:</span> <span class="st">&#39;bg-gray-200&#39;</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">dangerouslySetInnerHTML</span><span class="op">=</span><span class="va">{</span>{ <span class="dt">__html</span><span class="op">:</span> link<span class="op">.</span><span class="at">label</span> }<span class="va">}</span></span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">/&gt;</span></span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>                ))<span class="va">}</span></span>
<span id="cb16-126"><a href="#cb16-126" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-127"><a href="#cb16-127" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-128"><a href="#cb16-128" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb16-129"><a href="#cb16-129" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-130"><a href="#cb16-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-131"><a href="#cb16-131" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="bu">Index</span><span class="op">;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: - <strong>Categories</strong>: Added a
dropdown to select categories when creating/editing tasks, and filters
for categories in <code>Index.jsx</code>. - <strong>Search</strong>:
Added a search input that triggers an Inertia GET request to filter
tasks server-side. - <strong>Pagination</strong>: Used Laravelâ€™s
<code>paginate</code> method and rendered pagination links with
Inertia.</p>
<hr />
<h3 id="step-2-testing-with-jest-and-react-testing-library">Step 2:
Testing with Jest and React Testing Library</h3>
<p>Letâ€™s add unit tests for the <code>Index</code> and
<code>Create</code> components to ensure reliability.</p>
<ul>
<li><p><strong>Install Testing Libraries</strong>:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">--save-dev</span> @testing-library/react @testing-library/jest-dom jest jest-environment-jsdom @babel/preset-react</span></code></pre></div></li>
<li><p><strong>Set Up Jest</strong>:</p>
<ul>
<li><p>Create <code>jest.config.js</code>:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">testEnvironment</span><span class="op">:</span> <span class="st">&#39;jsdom&#39;</span><span class="op">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">setupFilesAfterEnv</span><span class="op">:</span> [<span class="st">&#39;&lt;rootDir&gt;/jest.setup.js&#39;</span>]<span class="op">,</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">moduleNameMapper</span><span class="op">:</span> {</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;</span><span class="sc">\\</span><span class="st">.(css|less|scss)$&#39;</span><span class="op">:</span> <span class="st">&#39;identity-obj-proxy&#39;</span><span class="op">,</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div></li>
<li><p>Create <code>jest.setup.js</code>:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">&#39;@testing-library/jest-dom&#39;</span><span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>package.json</code>:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;test&quot;</span><span class="fu">:</span> <span class="st">&quot;jest&quot;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
<li><p>Create <code>.babelrc</code>:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;presets&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@babel/preset-env&quot;</span><span class="ot">,</span> <span class="st">&quot;@babel/preset-react&quot;</span><span class="ot">]</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
</ul></li>
<li><p><strong>Test <code>Index.jsx</code></strong>: Create
<code>resources/js/Pages/Tasks/__tests__/Index.test.jsx</code>:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { render<span class="op">,</span> <span class="bu">screen</span> } <span class="im">from</span> <span class="st">&#39;@testing-library/react&#39;</span><span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Provider } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { store } <span class="im">from</span> <span class="st">&#39;../../Store&#39;</span><span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterProvider } <span class="im">from</span> <span class="st">&#39;../../Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Index</span> <span class="im">from</span> <span class="st">&#39;../Index&#39;</span><span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;Index Component&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> tasks <span class="op">=</span> [</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        { <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;Test Task&#39;</span><span class="op">,</span> <span class="dt">completed</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">category</span><span class="op">:</span> <span class="kw">null</span> }<span class="op">,</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;renders task list&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">render</span>(</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Provider</span> <span class="ot">store</span><span class="op">=</span><span class="va">{</span>store<span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;FilterProvider&gt;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">&lt;Index</span> <span class="ot">tasks</span><span class="op">=</span><span class="va">{</span>{ <span class="dt">data</span><span class="op">:</span> tasks<span class="op">,</span> <span class="dt">links</span><span class="op">:</span> [] }<span class="va">}</span> <span class="ot">categories</span><span class="op">=</span><span class="va">{</span>[]<span class="va">}</span> <span class="ot">filters</span><span class="op">=</span><span class="va">{</span>{}<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/FilterProvider&gt;</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;/Provider&gt;</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;Task Manager&#39;</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;Test Task - Pending&#39;</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;displays flash message&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">render</span>(</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;Provider</span> <span class="ot">store</span><span class="op">=</span><span class="va">{</span>store<span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;FilterProvider&gt;</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">&lt;Index</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">tasks</span><span class="op">=</span><span class="va">{</span>{ <span class="dt">data</span><span class="op">:</span> []<span class="op">,</span> <span class="dt">links</span><span class="op">:</span> [] }<span class="va">}</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">categories</span><span class="op">=</span><span class="va">{</span>[]<span class="va">}</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">filters</span><span class="op">=</span><span class="va">{</span>{}<span class="va">}</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>                        <span class="ot">flash</span><span class="op">=</span><span class="va">{</span>{ <span class="dt">message</span><span class="op">:</span> <span class="st">&#39;Task created!&#39;</span> }<span class="va">}</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">/&gt;</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/FilterProvider&gt;</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;/Provider&gt;</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;Task created!&#39;</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Test <code>Create.jsx</code></strong>: Create
<code>resources/js/Pages/Tasks/__tests__/Create.test.jsx</code>:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { render<span class="op">,</span> <span class="bu">screen</span><span class="op">,</span> fireEvent } <span class="im">from</span> <span class="st">&#39;@testing-library/react&#39;</span><span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Create <span class="im">from</span> <span class="st">&#39;../Create&#39;</span><span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>jest<span class="op">.</span><span class="fu">mock</span>(<span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> ({</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Inertia</span><span class="op">:</span> {</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">post</span><span class="op">:</span> jest<span class="op">.</span><span class="fu">fn</span>()<span class="op">,</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>}))<span class="op">;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;Create Component&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;submits form with valid data&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">render</span>(<span class="fu">&lt;Create</span> <span class="ot">categories</span><span class="op">=</span><span class="va">{</span>[{ <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Work&#39;</span> }]<span class="va">}</span> <span class="fu">/&gt;</span>)<span class="op">;</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        fireEvent<span class="op">.</span><span class="fu">change</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByLabelText</span>(<span class="st">&#39;Title&#39;</span>)<span class="op">,</span> { <span class="dt">target</span><span class="op">:</span> { <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;New Task&#39;</span> } })<span class="op">;</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        fireEvent<span class="op">.</span><span class="fu">click</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;Create&#39;</span>))<span class="op">;</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(Inertia<span class="op">.</span><span class="at">post</span>)<span class="op">.</span><span class="fu">toHaveBeenCalledWith</span>(<span class="st">&#39;/tasks&#39;</span><span class="op">,</span> expect<span class="op">.</span><span class="fu">objectContaining</span>({</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>            <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;New Task&#39;</span><span class="op">,</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>        }))<span class="op">;</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;displays validation error&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">render</span>(<span class="fu">&lt;Create</span> <span class="ot">categories</span><span class="op">=</span><span class="va">{</span>[]<span class="va">}</span> <span class="fu">/&gt;</span>)<span class="op">;</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        fireEvent<span class="op">.</span><span class="fu">click</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;Create&#39;</span>))<span class="op">;</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="cf">await</span> <span class="bu">screen</span><span class="op">.</span><span class="fu">findByText</span>(<span class="st">&#39;Title is required&#39;</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Run Tests</strong>:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> test</span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: Tests verify that the
<code>Index</code> component renders tasks and flash messages, and the
<code>Create</code> component handles form submission and validation
errors.</p>
<hr />
<h3 id="step-3-advanced-react-concepts">Step 3: Advanced React
Concepts</h3>
<h4 id="performance-optimization">3.1 Performance Optimization</h4>
<ul>
<li><p><strong>Code Splitting</strong>: Already implemented lazy loading
for <code>Edit.jsx</code>. Extend it to <code>Create.jsx</code>:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { Suspense } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> CreateComponent <span class="op">=</span> React<span class="op">.</span><span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./CreateComponent&#39;</span>))<span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Create</span>({ categories }) {</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;Suspense</span> <span class="ot">fallback</span><span class="op">=</span><span class="va">{</span><span class="kw">&lt;div&gt;</span>Loading...<span class="kw">&lt;/div&gt;</span><span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">&lt;CreateComponent</span> <span class="ot">categories</span><span class="op">=</span><span class="va">{</span>categories<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;/Suspense&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> Create<span class="op">;</span></span></code></pre></div>
<ul>
<li>Move original <code>Create.jsx</code> content to
<code>CreateComponent.jsx</code>.</li>
</ul></li>
<li><p><strong>Memoization</strong>: Use <code>React.memo</code> to
prevent unnecessary re-renders of task items.</p>
<ul>
<li><p>Create <code>resources/js/Pages/Tasks/TaskItem.jsx</code>:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link<span class="op">,</span> Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">TaskItem</span>({ task }) {</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleDelete <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">confirm</span>(<span class="st">&#39;Are you sure you want to delete this task?&#39;</span>)) {</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>            Inertia<span class="op">.</span><span class="fu">delete</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;li</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span><span class="kw">&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;span&gt;</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="st">&#39;Done&#39;</span> <span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="va">}</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">category</span> <span class="op">&amp;&amp;</span> <span class="vs">` (</span><span class="sc">${</span>task<span class="op">.</span><span class="at">category</span><span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">)`</span><span class="va">}</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/span&gt;</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div&gt;</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&gt;</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>                    Edit</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>handleDelete<span class="va">}</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>                    Delete</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/li&gt;</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> React<span class="op">.</span><span class="fu">memo</span>(TaskItem)<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Index.jsx</code>:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> TaskItem <span class="im">from</span> <span class="st">&#39;./TaskItem&#39;</span><span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;list-none p-0&quot;</span><span class="kw">&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">{</span>filteredTasks<span class="op">.</span><span class="fu">map</span>((task) <span class="kw">=&gt;</span> (</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;TaskItem</span> <span class="ot">key</span><span class="op">=</span><span class="va">{</span>task<span class="op">.</span><span class="at">id</span><span class="va">}</span> <span class="ot">task</span><span class="op">=</span><span class="va">{</span>task<span class="va">}</span> <span class="fu">/&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    ))<span class="va">}</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div></li>
</ul></li>
</ul>
<p><strong>Explanation</strong>: <code>React.memo</code> ensures
<code>TaskItem</code> only re-renders when its props change, improving
performance for large lists.</p>
<h4 id="advanced-patterns-compound-components">3.2 Advanced Patterns:
Compound Components</h4>
<p>Use compound components to manage the filter buttons.</p>
<ul>
<li><p>Create
<code>resources/js/Components/FilterButtons.jsx</code>:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React<span class="op">,</span> { createContext<span class="op">,</span> useContext } <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterContext } <span class="im">from</span> <span class="st">&#39;../Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> FilterButtonContext <span class="op">=</span> <span class="fu">createContext</span>()<span class="op">;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">FilterButtons</span>({ children }) {</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { filter<span class="op">,</span> setFilter } <span class="op">=</span> <span class="fu">useContext</span>(FilterContext)<span class="op">;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;FilterButtonContext.Provider</span> <span class="ot">value</span><span class="op">=</span><span class="va">{</span>{ filter<span class="op">,</span> setFilter }<span class="va">}</span><span class="fu">&gt;</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;my-4&quot;</span><span class="kw">&gt;</span><span class="va">{</span>children<span class="va">}</span><span class="kw">&lt;/div&gt;</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;/FilterButtonContext.Provider&gt;</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">FilterButton</span>({ value<span class="op">,</span> label }) {</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { filter<span class="op">,</span> setFilter } <span class="op">=</span> <span class="fu">useContext</span>(FilterButtonContext)<span class="op">;</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;button</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>            <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">setFilter</span>(value)<span class="va">}</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>            <span class="ot">className</span><span class="op">=</span><span class="va">{</span><span class="vs">`mr-2 p-2 rounded </span><span class="sc">${</span>filter <span class="op">===</span> value <span class="op">?</span> <span class="st">&#39;bg-blue-500 text-white&#39;</span> <span class="op">:</span> <span class="st">&#39;bg-gray-200&#39;</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&gt;</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>            <span class="va">{</span>label<span class="va">}</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/button&gt;</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>FilterButtons<span class="op">.</span><span class="at">Button</span> <span class="op">=</span> FilterButton<span class="op">;</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> FilterButtons<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Index.jsx</code>:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> FilterButtons <span class="im">from</span> <span class="st">&#39;../Components/FilterButtons&#39;</span><span class="op">;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;FilterButtons&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;FilterButtons.Button</span> <span class="ot">value</span><span class="op">=</span><span class="st">&quot;all&quot;</span> <span class="ot">label</span><span class="op">=</span><span class="st">&quot;All&quot;</span> <span class="fu">/&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;FilterButtons.Button</span> <span class="ot">value</span><span class="op">=</span><span class="st">&quot;completed&quot;</span> <span class="ot">label</span><span class="op">=</span><span class="st">&quot;Completed&quot;</span> <span class="fu">/&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">&lt;FilterButtons.Button</span> <span class="ot">value</span><span class="op">=</span><span class="st">&quot;pending&quot;</span> <span class="ot">label</span><span class="op">=</span><span class="st">&quot;Pending&quot;</span> <span class="fu">/&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">{</span>categories<span class="op">.</span><span class="fu">map</span>((category) <span class="kw">=&gt;</span> (</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">&lt;FilterButtons.Button</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>            <span class="ot">key</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="va">}</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>            <span class="ot">value</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">id</span><span class="op">.</span><span class="fu">toString</span>()<span class="va">}</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>            <span class="ot">label</span><span class="op">=</span><span class="va">{</span>category<span class="op">.</span><span class="at">name</span><span class="va">}</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">/&gt;</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    ))<span class="va">}</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;/FilterButtons&gt;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: Compound components provide a flexible
API for filter buttons, sharing state via context.</p>
<h4 id="accessibility-a11y">3.3 Accessibility (a11y)</h4>
<p>Add ARIA attributes and improve keyboard navigation.</p>
<ul>
<li><p>Update <code>TaskItem.jsx</code>:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Link<span class="op">,</span> Inertia } <span class="im">from</span> <span class="st">&#39;@inertiajs/inertia&#39;</span><span class="op">;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">TaskItem</span>({ task }) {</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> handleDelete <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">confirm</span>(<span class="st">&#39;Are you sure you want to delete this task?&#39;</span>)) {</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>            Inertia<span class="op">.</span><span class="fu">delete</span>(<span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;li</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>            <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>            <span class="ot">role</span><span class="op">=</span><span class="st">&quot;listitem&quot;</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>            <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`Task: </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&gt;</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;span&gt;</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="st">&#39;Done&#39;</span> <span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="va">}</span> </span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">category</span> <span class="op">&amp;&amp;</span> <span class="vs">` (</span><span class="sc">${</span>task<span class="op">.</span><span class="at">category</span><span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">)`</span><span class="va">}</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/span&gt;</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div&gt;</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`Edit </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&gt;</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>                    Edit</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>handleDelete<span class="va">}</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`Delete </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>                    Delete</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/li&gt;</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> React<span class="op">.</span><span class="fu">memo</span>(TaskItem)<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Create.jsx</code>:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Add aria-labels and improve form accessibility</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;form</span> <span class="ot">onSubmit</span><span class="op">=</span><span class="va">{</span><span class="fu">handleSubmit</span>(onSubmit)<span class="va">}</span> <span class="ot">aria-label</span><span class="op">=</span><span class="st">&quot;Create new task form&quot;</span><span class="kw">&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;label</span> <span class="ot">htmlFor</span><span class="op">=</span><span class="st">&quot;title&quot;</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;block text-gray-700&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/label&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;input</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>            <span class="ot">id</span><span class="op">=</span><span class="st">&quot;title&quot;</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>            <span class="va">{</span><span class="op">...</span><span class="fu">register</span>(<span class="st">&#39;title&#39;</span>)<span class="va">}</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>            <span class="ot">className</span><span class="op">=</span><span class="st">&quot;border p-2 w-full&quot;</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>            <span class="ot">aria-required</span><span class="op">=</span><span class="st">&quot;true&quot;</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">/&gt;</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">{</span>errors<span class="op">.</span><span class="at">title</span> <span class="op">&amp;&amp;</span> (</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;p</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600&quot;</span> <span class="ot">role</span><span class="op">=</span><span class="st">&quot;alert&quot;</span><span class="kw">&gt;</span><span class="va">{</span>errors<span class="op">.</span><span class="at">title</span><span class="op">.</span><span class="at">message</span><span class="va">}</span><span class="kw">&lt;/p&gt;</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>        )<span class="va">}</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="va">{</span><span class="co">/* Similar updates for other inputs */</span><span class="va">}</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/form&gt;</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: ARIA attributes and
<code>htmlFor</code> improve screen reader support and keyboard
navigation.</p>
<h4 id="typescript-for-type-safety">3.4 TypeScript for Type Safety</h4>
<p>Convert <code>Index.jsx</code> to TypeScript for better type
checking.</p>
<ul>
<li><p><strong>Install TypeScript</strong>:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install typescript @types/react @types/react-dom</span></code></pre></div></li>
<li><p>Rename <code>Index.jsx</code> to <code>Index.tsx</code> and
update:</p>
<pre class="tsx"><code>import React, { useContext, useEffect } from &#39;react&#39;;
import { Link, InertiaLinkProps, usePage } from &#39;@inertiajs/react&#39;;
import { useDispatch, useSelector } from &#39;react-redux&#39;;
import { setTasks, addTask } from &#39;../Store/taskSlice&#39;;
import { FilterContext } from &#39;../Context/FilterContext&#39;;
import { Inertia } from &#39;@inertiajs/inertia&#39;;
import FilterButtons from &#39;../Components/FilterButtons&#39;;

interface Task {
    id: number;
    title: string;
    description: string | null;
    completed: boolean;
    category_id: number | null;
    category: { id: number; name: string } | null;
}

interface Category {
    id: number;
    name: string;
}

interface PageProps {
    tasks: { data: Task[]; links: { url: string; label: string; active: boolean }[] };
    categories: Category[];
    filters: { search?: string };
    flash: { message?: string };
}

function Index({ tasks: initialTasks, categories, filters }: PageProps) {
    const { flash } = usePage&lt;PageProps&gt;().props;
    const dispatch = useDispatch();
    const tasks = useSelector((state: { tasks: { tasks: Task[] } }) =&gt; state.tasks.tasks);
    const { filter, setFilter } = useContext(FilterContext);
    const [search, setSearch] = React.useState&lt;string&gt;(filters.search || &#39;&#39;);

    useEffect(() =&gt; {
        dispatch(setTasks(initialTasks.data));
        window.Echo.channel(&#39;tasks&#39;).listen(&#39;TaskCreated&#39;, (e: { task: Task }) =&gt; {
            dispatch(addTask(e.task));
        });
        return () =&gt; {
            window.Echo.leaveChannel(&#39;tasks&#39;);
        };
    }, [initialTasks.data, dispatch]);

    const filteredTasks = tasks.filter((task) =&gt; {
        if (filter === &#39;completed&#39;) return task.completed;
        if (filter === &#39;pending&#39;) return !task.completed;
        if (filter !== &#39;all&#39; &amp;&amp; filter !== &#39;completed&#39; &amp;&amp; filter !== &#39;pending&#39;) {
            return task.category_id === parseInt(filter);
        }
        return true;
    });

    const handleDelete = (id: number) =&gt; {
        if (confirm(&#39;Are you sure you want to delete this task?&#39;)) {
            Inertia.delete(`/tasks/${id}`);
        }
    };

    return (
        &lt;div className=&quot;max-w-2xl mx-auto p-4&quot;&gt;
            &lt;h1 className=&quot;text-2xl font-bold&quot;&gt;Task Manager&lt;/h1&gt;
            {flash.message &amp;&amp; &lt;div className=&quot;text-green-600&quot;&gt;{flash.message}&lt;/div&gt;}
            &lt;Link href=&quot;/tasks/create&quot; className=&quot;text-blue-600 hover:underline&quot;&gt;
                Add New Task
            &lt;/Link&gt;
            &lt;div className=&quot;my-4&quot;&gt;
                &lt;input
                    type=&quot;text&quot;
                    value={search}
                    onChange={(e) =&gt; {
                        setSearch(e.target.value);
                        Inertia.get(&#39;/tasks&#39;, { search: e.target.value }, { preserveState: true });
                    }}
                    placeholder=&quot;Search tasks...&quot;
                    className=&quot;border p-2 w-full mb-2&quot;
                    aria-label=&quot;Search tasks&quot;
                /&gt;
                &lt;FilterButtons&gt;
                    &lt;FilterButtons.Button value=&quot;all&quot; label=&quot;All&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;completed&quot; label=&quot;Completed&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;pending&quot; label=&quot;Pending&quot; /&gt;
                    {categories.map((category) =&gt; (
                        &lt;FilterButtons.Button
                            key={category.id}
                            value={category.id.toString()}
                            label={category.name}
                        /&gt;
                    ))}
                &lt;/FilterButtons&gt;
            &lt;/div&gt;
            &lt;ul className=&quot;list-none p-0&quot; role=&quot;list&quot;&gt;
                {filteredTasks.map((task) =&gt; (
                    &lt;TaskItem key={task.id} task={task} /&gt;
                ))}
            &lt;/ul&gt;
            &lt;div className=&quot;mt-4&quot;&gt;
                {initialTasks.links.map((link, index) =&gt; (
                    &lt;Link
                        key={index}
                        href={link.url}
                        className={`mr-2 p-2 ${link.active ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;}`}
                        dangerouslySetInnerHTML={{ __html: link.label }}
                        aria-current={link.active ? &#39;page&#39; : undefined}
                    /&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default Index;</code></pre></li>
<li><p>Update <code>tsconfig.json</code>:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;compilerOptions&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;target&quot;</span><span class="fu">:</span> <span class="st">&quot;esnext&quot;</span><span class="fu">,</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;esnext&quot;</span><span class="fu">,</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;jsx&quot;</span><span class="fu">:</span> <span class="st">&quot;react-jsx&quot;</span><span class="fu">,</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;strict&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;moduleResolution&quot;</span><span class="fu">:</span> <span class="st">&quot;node&quot;</span><span class="fu">,</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;esModuleInterop&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;skipLibCheck&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;forceConsistentCasingInFileNames&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;include&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;resources/js/**/*&quot;</span><span class="ot">]</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
</ul>
<p><strong>Explanation</strong>: TypeScript ensures type safety for
props and state, reducing runtime errors.</p>
<hr />
<h3 id="step-4-deployment-to-laravel-forge">Step 4: Deployment to
Laravel Forge</h3>
<ul>
<li><strong>Set Up Forge</strong>:
<ul>
<li>Create an account at <a
href="https://forge.laravel.com">forge.laravel.com</a>.</li>
<li>Create a new server (e.g., DigitalOcean, AWS).</li>
<li>Add a site and link your Git repository (push your project to
GitHub/Bitbucket).</li>
</ul></li>
<li><strong>Configure Environment</strong>:
<ul>
<li><p>Update <code>.env</code> on the server with database, Pusher, and
other credentials.</p></li>
<li><p>Run migrations and seeders:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan migrate</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan db:seed <span class="at">--class</span><span class="op">=</span>CategorySeeder</span></code></pre></div></li>
</ul></li>
<li><strong>Build and Deploy</strong>:
<ul>
<li><p>Configure Forge to run:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run build</span></code></pre></div></li>
<li><p>Enable SSR in Forge by adding a daemon to run
<code>node resources/js/ssr.js</code>.</p></li>
</ul></li>
<li><strong>Set Up SSL and Domains</strong>:
<ul>
<li>Use Forge to enable SSL and point your domain to the server.</li>
</ul></li>
</ul>
<p><strong>Explanation</strong>: Forge simplifies deployment, handling
server setup, SSL, and deployment scripts. For serverless, consider
Laravel Vapor.</p>
<hr />
<h3 id="testing-the-app">Testing the App</h3>
<ol type="1">
<li><p><strong>Run Locally</strong>:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan serve</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run dev</span></code></pre></div></li>
<li><p><strong>Test Features</strong>:</p>
<ul>
<li>Create/edit tasks with categories.</li>
<li>Search tasks and navigate pagination.</li>
<li>Verify real-time updates in multiple browser windows.</li>
<li>Run tests: <code>npm test</code>.</li>
</ul></li>
<li><p><strong>Deploy and Test</strong>:</p>
<ul>
<li>Push to Git, deploy via Forge, and verify functionality.</li>
</ul></li>
</ol>
<hr />
<h3 id="summary">Summary</h3>
<ul>
<li><strong>New Features</strong>: Added categories, search, and
pagination with server-side filtering.</li>
<li><strong>Testing</strong>: Implemented unit tests for
<code>Index</code> and <code>Create</code> components.</li>
<li><strong>Advanced React</strong>:
<ul>
<li><strong>Performance</strong>: Used code splitting and
<code>React.memo</code>.</li>
<li><strong>Patterns</strong>: Created compound components for
filters.</li>
<li><strong>Accessibility</strong>: Added ARIA attributes.</li>
<li><strong>TypeScript</strong>: Converted <code>Index.jsx</code> to
TypeScript.</li>
</ul></li>
<li><strong>Deployment</strong>: Outlined steps for Laravel Forge.</li>
</ul>
<h2 id="part-5-advanced-features-for-the-task-management-app">Part 5:
Advanced Features for the Task Management App</h2>
<h3 id="step-1-authentication-with-laravel-breeze">Step 1:
Authentication with Laravel Breeze</h3>
<p>Letâ€™s add user authentication using Laravel Breeze, which provides a
simple Inertia + React setup for login, registration, and user
management.</p>
<h4 id="install-and-configure-laravel-breeze">1.1 Install and Configure
Laravel Breeze</h4>
<ul>
<li><p><strong>Install Breeze</strong>:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">composer</span> require laravel/breeze <span class="at">--dev</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan breeze:install react</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run dev</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan migrate</span></code></pre></div></li>
<li><p><strong>Update Routes</strong> (<code>routes/web.php</code>):
Protect task routes with authentication middleware:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">H</span>ttp\<span class="cn">C</span>ontrollers\<span class="cn">T</span>askController<span class="ot">;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">S</span>upport\<span class="cn">F</span>acades\<span class="cn">R</span>oute<span class="ot">;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::middleware(<span class="st">&#39;auth&#39;</span>)-&gt;group(<span class="kw">function</span> () {</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::get(<span class="st">&#39;/tasks&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;index&#39;</span>])-&gt;name(<span class="st">&#39;tasks.index&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::get(<span class="st">&#39;/tasks/create&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;create&#39;</span>])-&gt;name(<span class="st">&#39;tasks.create&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::post(<span class="st">&#39;/tasks&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;store&#39;</span>])-&gt;name(<span class="st">&#39;tasks.store&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::get(<span class="st">&#39;/tasks/{task}/edit&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;edit&#39;</span>])-&gt;name(<span class="st">&#39;tasks.edit&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::put(<span class="st">&#39;/tasks/{task}&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;update&#39;</span>])-&gt;name(<span class="st">&#39;tasks.update&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::delete(<span class="st">&#39;/tasks/{task}&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;destroy&#39;</span>])-&gt;name(<span class="st">&#39;tasks.destroy&#39;</span>)<span class="ot">;</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>})<span class="ot">;</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::get(<span class="st">&#39;/api/tasks&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;apiIndex&#39;</span>])-&gt;name(<span class="st">&#39;api.tasks&#39;</span>)<span class="ot">;</span></span></code></pre></div></li>
<li><p><strong>Update Task Model</strong>: Associate tasks with
users:</p>
<ul>
<li><p>In <code>app/Models/Task.php</code>:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels<span class="ot">;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">D</span>atabase\<span class="cn">E</span>loquent\<span class="cn">M</span>odel<span class="ot">;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>ask <span class="kw">extends</span> <span class="cn">M</span>odel</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="va">$fillable</span> <span class="op">=</span> [<span class="st">&#39;title&#39;</span><span class="ot">,</span> <span class="st">&#39;description&#39;</span><span class="ot">,</span> <span class="st">&#39;completed&#39;</span><span class="ot">,</span> <span class="st">&#39;category_id&#39;</span><span class="ot">,</span> <span class="st">&#39;user_id&#39;</span>]<span class="ot">;</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> category()</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$this</span>-&gt;belongsTo(<span class="cn">C</span>ategory::<span class="kw">class</span>)<span class="ot">;</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> user()</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$this</span>-&gt;belongsTo(<span class="cn">U</span>ser::<span class="kw">class</span>)<span class="ot">;</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul></li>
<li><p><strong>Update TaskController</strong>:</p>
<ul>
<li><p>Modify <code>index</code> to fetch only the authenticated userâ€™s
tasks:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> index(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$query</span> <span class="op">=</span> <span class="cn">T</span>ask::with(<span class="st">&#39;category&#39;</span>)-&gt;where(<span class="st">&#39;user_id&#39;</span><span class="ot">,</span> auth()-&gt;id())<span class="ot">;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">$request</span>-&gt;has(<span class="st">&#39;search&#39;</span>)) {</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">$query</span>-&gt;where(<span class="st">&#39;title&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>              -&gt;orWhere(<span class="st">&#39;description&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)<span class="ot">;</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">$tasks</span> <span class="op">=</span> <span class="va">$query</span>-&gt;paginate(<span class="dv">10</span>)<span class="ot">;</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Index&#39;</span><span class="ot">,</span> [</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks&#39;</span> =&gt; <span class="va">$tasks</span><span class="ot">,</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;filters&#39;</span> =&gt; [<span class="st">&#39;search&#39;</span> =&gt; <span class="va">$request</span>-&gt;search]<span class="ot">,</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;auth&#39;</span> =&gt; auth()-&gt;user()<span class="ot">,</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Update <code>apiIndex</code>:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> apiIndex()</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">T</span>ask::where(<span class="st">&#39;user_id&#39;</span><span class="ot">,</span> auth()-&gt;id())-&gt;with(<span class="st">&#39;category&#39;</span>)-&gt;get()<span class="ot">;</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Update <code>store</code>:</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> store(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;category_id&#39;</span> =&gt; <span class="st">&#39;nullable|exists:categories,id&#39;</span><span class="ot">,</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span> <span class="op">=</span> <span class="cn">T</span>ask::create(<span class="va">$validated</span> <span class="op">+</span> [<span class="st">&#39;user_id&#39;</span> =&gt; auth()-&gt;id()])<span class="ot">;</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    event(<span class="kw">new</span> \<span class="cn">A</span>pp\<span class="cn">E</span>vents\<span class="cn">T</span>askCreated(<span class="va">$task</span>))<span class="ot">;</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task created!&#39;</span>)<span class="ot">;</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Update <code>edit</code> and <code>update</code> to check user
ownership:</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> edit(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$this</span>-&gt;authorize(<span class="st">&#39;update&#39;</span><span class="ot">,</span> <span class="va">$task</span>)<span class="ot">;</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Edit&#39;</span><span class="ot">,</span> [</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;task&#39;</span> =&gt; <span class="va">$task</span><span class="ot">,</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> update(<span class="cn">R</span>equest <span class="va">$request</span><span class="ot">,</span> <span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">$this</span>-&gt;authorize(<span class="st">&#39;update&#39;</span><span class="ot">,</span> <span class="va">$task</span>)<span class="ot">;</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;title&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;description&#39;</span> =&gt; <span class="st">&#39;nullable|string&#39;</span><span class="ot">,</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;completed&#39;</span> =&gt; <span class="st">&#39;boolean&#39;</span><span class="ot">,</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;category_id&#39;</span> =&gt; <span class="st">&#39;nullable|exists:categories,id&#39;</span><span class="ot">,</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span>-&gt;update(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task updated!&#39;</span>)<span class="ot">;</span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> destroy(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>    <span class="va">$this</span>-&gt;authorize(<span class="st">&#39;delete&#39;</span><span class="ot">,</span> <span class="va">$task</span>)<span class="ot">;</span></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>    <span class="va">$task</span>-&gt;delete()<span class="ot">;</span></span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;tasks.index&#39;</span>)-&gt;with(<span class="st">&#39;message&#39;</span><span class="ot">,</span> <span class="st">&#39;Task deleted!&#39;</span>)<span class="ot">;</span></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul></li>
<li><p><strong>Add Authorization Policies</strong>:</p>
<ul>
<li><p>Create a policy:</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan make:policy TaskPolicy <span class="at">--model</span><span class="op">=</span>Task</span></code></pre></div></li>
<li><p>Update <code>app/Policies/TaskPolicy.php</code>:</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="cn">A</span>pp\<span class="cn">P</span>olicies<span class="ot">;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels\<span class="cn">T</span>ask<span class="ot">;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">A</span>pp\<span class="cn">M</span>odels\<span class="cn">U</span>ser<span class="ot">;</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">A</span>uth\<span class="cn">A</span>ccess\<span class="cn">H</span>andlesAuthorization<span class="ot">;</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>askPolicy</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">use</span> <span class="cn">H</span>andlesAuthorization<span class="ot">;</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> update(<span class="cn">U</span>ser <span class="va">$user</span><span class="ot">,</span> <span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$user</span>-&gt;id <span class="op">===</span> <span class="va">$task</span>-&gt;user_id<span class="ot">;</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> delete(<span class="cn">U</span>ser <span class="va">$user</span><span class="ot">,</span> whoTask <span class="va">$task</span>)</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$user</span>-&gt;id <span class="op">===</span> <span class="va">$task</span>-&gt;user_id<span class="ot">;</span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Register in
<code>app/Providers/AuthServiceProvider.php</code>:</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">protected</span> <span class="va">$policies</span> <span class="op">=</span> [</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="cn">T</span>ask::<span class="kw">class</span> =&gt; <span class="cn">T</span>askPolicy::<span class="kw">class</span><span class="ot">,</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>]<span class="ot">;</span></span></code></pre></div></li>
</ul></li>
<li><p><strong>Update TaskCreated Event</strong>: Broadcast to a private
channel per user:</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="cn">I</span>lluminate\<span class="cn">B</span>roadcasting\<span class="cn">P</span>rivateChannel<span class="ot">;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="cn">T</span>askCreated <span class="kw">implements</span> <span class="cn">S</span>houldBroadcast</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="va">$task</span><span class="ot">;</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> <span class="bu">__construct</span>(<span class="cn">T</span>ask <span class="va">$task</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">$this</span>-&gt;task <span class="op">=</span> <span class="va">$task</span><span class="ot">;</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">function</span> broadcastOn()</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">new</span> <span class="cn">P</span>rivateChannel(<span class="st">&#39;user.&#39;</span> <span class="op">.</span> <span class="va">$this</span>-&gt;task-&gt;user_id)<span class="ot">;</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Update Echo Configuration</strong>
(<code>resources/js/bootstrap.js</code>):</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Echo <span class="im">from</span> <span class="st">&#39;laravel-echo&#39;</span><span class="op">;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> Pusher <span class="im">from</span> <span class="st">&#39;pusher-js&#39;</span><span class="op">;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">Pusher</span> <span class="op">=</span> Pusher<span class="op">;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="bu">window</span><span class="op">.</span><span class="at">Echo</span> <span class="op">=</span> <span class="kw">new</span> <span class="fu">Echo</span>({</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">broadcaster</span><span class="op">:</span> <span class="st">&#39;pusher&#39;</span><span class="op">,</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">key</span><span class="op">:</span> <span class="im">import</span><span class="op">.</span><span class="at">meta</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_PUSHER_APP_KEY</span><span class="op">,</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">cluster</span><span class="op">:</span> <span class="im">import</span><span class="op">.</span><span class="at">meta</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_PUSHER_APP_CLUSTER</span><span class="op">,</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">forceTLS</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">authEndpoint</span><span class="op">:</span> <span class="st">&#39;/broadcasting/auth&#39;</span><span class="op">,</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">auth</span><span class="op">:</span> {</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">headers</span><span class="op">:</span> {</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>            <span class="dt">Authorization</span><span class="op">:</span> <span class="vs">`Bearer </span><span class="sc">${</span>localStorage<span class="op">.</span><span class="fu">getItem</span>(<span class="st">&#39;token&#39;</span>) <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update Index Component</strong>
(<code>resources/js/Pages/Tasks/Index.tsx</code>): Display user info and
update Echo channel:</p>
<pre class="tsx"><code>import React, { useContext, useEffect } from &#39;react&#39;;
import { Link, usePage } from &#39;@inertiajs/react&#39;;
import { useDispatch, useSelector } from &#39;react-redux&#39;;
import { setTasks, addTask } from &#39;../Store/taskSlice&#39;;
import { FilterContext } from &#39;../Context/FilterContext&#39;;
import { Inertia } from &#39;@inertiajs/inertia&#39;;
import FilterButtons from &#39;../Components/FilterButtons&#39;;
import TaskItem from &#39;./TaskItem&#39;;

interface Task {
    id: number;
    title: string;
    description: string | null;
    completed: boolean;
    category_id: number | null;
    category: { id: number; name: string } | null;
    user_id: number;
}

interface Category {
    id: number;
    name: string;
}

interface User {
    id: number;
    name: string;
    email: string;
}

interface PageProps {
    tasks: { data: Task[]; links: { url: string; label: string; active: boolean }[] };
    categories: Category[];
    filters: { search?: string };
    flash: { message?: string };
    auth: User;
}

function Index({ tasks: initialTasks, categories, filters, auth }: PageProps) {
    const { flash } = usePage&lt;PageProps&gt;().props;
    const dispatch = useDispatch();
    const tasks = useSelector((state: { tasks: { tasks: Task[] } }) =&gt; state.tasks.tasks);
    const { filter, setFilter } = useContext(FilterContext);
    const [search, setSearch] = React.useState&lt;string&gt;(filters.search || &#39;&#39;);

    useEffect(() =&gt; {
        dispatch(setTasks(initialTasks.data));

        window.Echo.private(`user.${auth.id}`).listen(&#39;TaskCreated&#39;, (e: { task: Task }) =&gt; {
            dispatch(addTask(e.task));
        });

        return () =&gt; {
            window.Echo.leave(`user.${auth.id}`);
        };
    }, [initialTasks.data, dispatch, auth.id]);

    const filteredTasks = tasks.filter((task) =&gt; {
        if (filter === &#39;completed&#39;) return task.completed;
        if (filter === &#39;pending&#39;) return !task.completed;
        if (filter !== &#39;all&#39; &amp;&amp; filter !== &#39;completed&#39; &amp;&amp; filter !== &#39;pending&#39;) {
            return task.category_id === parseInt(filter);
        }
        return true;
    });

    const handleSearch = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setSearch(e.target.value);
        Inertia.get(&#39;/tasks&#39;, { search: e.target.value }, { preserveState: true });
    };

    return (
        &lt;div className=&quot;max-w-2xl mx-auto p-4&quot;&gt;
            &lt;h1 className=&quot;text-2xl font-bold&quot;&gt;Task Manager&lt;/h1&gt;
            &lt;p&gt;Welcome, {auth.name}&lt;/p&gt;
            {flash.message &amp;&amp; &lt;div className=&quot;text-green-600&quot;&gt;{flash.message}&lt;/div&gt;}
            &lt;Link href=&quot;/tasks/create&quot; className=&quot;text-blue-600 hover:underline&quot;&gt;
                Add New Task
            &lt;/Link&gt;
            &lt;div className=&quot;my-4&quot;&gt;
                &lt;input
                    type=&quot;text&quot;
                    value={search}
                    onChange={handleSearch}
                    placeholder=&quot;Search tasks...&quot;
                    className=&quot;border p-2 w-full mb-2&quot;
                    aria-label=&quot;Search tasks&quot;
                /&gt;
                &lt;FilterButtons&gt;
                    &lt;FilterButtons.Button value=&quot;all&quot; label=&quot;All&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;completed&quot; label=&quot;Completed&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;pending&quot; label=&quot;Pending&quot; /&gt;
                    {categories.map((category) =&gt; (
                        &lt;FilterButtons.Button
                            key={category.id}
                            value={category.id.toString()}
                            label={category.name}
                        /&gt;
                    ))}
                &lt;/FilterButtons&gt;
            &lt;/div&gt;
            &lt;ul className=&quot;list-none p-0&quot; role=&quot;list&quot;&gt;
                {filteredTasks.map((task) =&gt; (
                    &lt;TaskItem key={task.id} task={task} /&gt;
                ))}
            &lt;/ul&gt;
            &lt;div className=&quot;mt-4&quot;&gt;
                {initialTasks.links.map((link, index) =&gt; (
                    &lt;Link
                        key={index}
                        href={link.url}
                        className={`mr-2 p-2 ${link.active ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;}`}
                        dangerouslySetInnerHTML={{ __html: link.label }}
                        aria-current={link.active ? &#39;page&#39; : undefined}
                    /&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default Index;</code></pre></li>
</ul>
<p><strong>Explanation</strong>: Laravel Breeze provides pre-built
authentication components (login, register, etc.) for Inertia + React.
Tasks are now scoped to the authenticated user, and the Echo channel is
private per user.</p>
<h4 id="test-authentication">1.2 Test Authentication</h4>
<ul>
<li>Register a user at <code>/register</code>, log in at
<code>/login</code>, and verify that only the userâ€™s tasks are displayed
at <code>/tasks</code>.</li>
</ul>
<hr />
<h3 id="step-2-complex-ui---drag-and-drop-with-react-beautiful-dnd">Step
2: Complex UI - Drag-and-Drop with react-beautiful-dnd</h3>
<p>Add drag-and-drop functionality to reorder tasks.</p>
<ul>
<li><p><strong>Install react-beautiful-dnd</strong>:</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install react-beautiful-dnd</span></code></pre></div></li>
<li><p><strong>Update Task Model</strong>: Add an <code>order</code>
column for task ordering:</p>
<ul>
<li><p>Create a migration:</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan make:migration add_order_to_tasks</span></code></pre></div></li>
<li><p>Update the migration:</p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="cn">S</span>chema::table(<span class="st">&#39;tasks&#39;</span><span class="ot">,</span> <span class="kw">function</span> (<span class="cn">B</span>lueprint <span class="va">$table</span>) {</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">$table</span>-&gt;unsignedInteger(<span class="st">&#39;order&#39;</span>)-&gt;<span class="cf">default</span>(<span class="dv">0</span>)<span class="ot">;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>})<span class="ot">;</span></span></code></pre></div></li>
<li><p>Run:</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan migrate</span></code></pre></div></li>
</ul></li>
<li><p><strong>Update TaskController</strong>:</p>
<ul>
<li><p>Modify <code>index</code> to order tasks:</p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> index(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$query</span> <span class="op">=</span> <span class="cn">T</span>ask::with(<span class="st">&#39;category&#39;</span>)-&gt;where(<span class="st">&#39;user_id&#39;</span><span class="ot">,</span> auth()-&gt;id())</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                 -&gt;orderBy(<span class="st">&#39;order&#39;</span>)<span class="ot">;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">$request</span>-&gt;has(<span class="st">&#39;search&#39;</span>)) {</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">$query</span>-&gt;where(<span class="st">&#39;title&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>              -&gt;orWhere(<span class="st">&#39;description&#39;</span><span class="ot">,</span> <span class="st">&#39;like&#39;</span><span class="ot">,</span> <span class="st">&#39;%&#39;</span> <span class="op">.</span> <span class="va">$request</span>-&gt;search <span class="op">.</span> <span class="st">&#39;%&#39;</span>)<span class="ot">;</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">$tasks</span> <span class="op">=</span> <span class="va">$query</span>-&gt;paginate(<span class="dv">10</span>)<span class="ot">;</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">$categories</span> <span class="op">=</span> <span class="cn">C</span>ategory::all()<span class="ot">;</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Tasks/Index&#39;</span><span class="ot">,</span> [</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks&#39;</span> =&gt; <span class="va">$tasks</span><span class="ot">,</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;categories&#39;</span> =&gt; <span class="va">$categories</span><span class="ot">,</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;filters&#39;</span> =&gt; [<span class="st">&#39;search&#39;</span> =&gt; <span class="va">$request</span>-&gt;search]<span class="ot">,</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;auth&#39;</span> =&gt; auth()-&gt;user()<span class="ot">,</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p>Add a <code>reorder</code> method:</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> reorder(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$request</span>-&gt;validate([</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks&#39;</span> =&gt; <span class="st">&#39;required|array&#39;</span><span class="ot">,</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks.*.id&#39;</span> =&gt; <span class="st">&#39;exists:tasks,id&#39;</span><span class="ot">,</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;tasks.*.order&#39;</span> =&gt; <span class="st">&#39;integer&#39;</span><span class="ot">,</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">foreach</span> (<span class="va">$request</span>-&gt;tasks <span class="kw">as</span> <span class="va">$task</span>) {</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>        <span class="cn">T</span>ask::where(<span class="st">&#39;id&#39;</span><span class="ot">,</span> <span class="va">$task</span>[<span class="st">&#39;id&#39;</span>])-&gt;where(<span class="st">&#39;user_id&#39;</span><span class="ot">,</span> auth()-&gt;id())</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>            -&gt;update([<span class="st">&#39;order&#39;</span> =&gt; <span class="va">$task</span>[<span class="st">&#39;order&#39;</span>]])<span class="ot">;</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response()-&gt;json([<span class="st">&#39;message&#39;</span> =&gt; <span class="st">&#39;Tasks reordered&#39;</span>])<span class="ot">;</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul></li>
<li><p><strong>Update Routes</strong> (<code>routes/web.php</code>):</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="cn">R</span>oute::middleware(<span class="st">&#39;auth&#39;</span>)-&gt;group(<span class="kw">function</span> () {</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... other routes ...</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="cn">R</span>oute::post(<span class="st">&#39;/tasks/reorder&#39;</span><span class="ot">,</span> [<span class="cn">T</span>askController::<span class="kw">class</span><span class="ot">,</span> <span class="st">&#39;reorder&#39;</span>])-&gt;name(<span class="st">&#39;tasks.reorder&#39;</span>)<span class="ot">;</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>})<span class="ot">;</span></span></code></pre></div></li>
<li><p><strong>Update Index Component</strong>
(<code>resources/js/Pages/Tasks/Index.tsx</code>):</p>
<pre class="tsx"><code>import React, { useContext, useEffect } from &#39;react&#39;;
import { Link, usePage } from &#39;@inertiajs/react&#39;;
import { useDispatch, useSelector } from &#39;react-redux&#39;;
import { setTasks, addTask } from &#39;../Store/taskSlice&#39;;
import { FilterContext } from &#39;../Context/FilterContext&#39;;
import { Inertia } from &#39;@inertiajs/inertia&#39;;
import FilterButtons from &#39;../Components/FilterButtons&#39;;
import TaskItem from &#39;./TaskItem&#39;;
import { DragDropContext, Droppable, Draggable } from &#39;react-beautiful-dnd&#39;;

interface Task {
    id: number;
    title: string;
    description: string | null;
    completed: boolean;
    category_id: number | null;
    category: { id: number; name: string } | null;
    user_id: number;
    order: number;
}

interface Category {
    id: number;
    name: string;
}

interface User {
    id: number;
    name: string;
    email: string;
}

interface PageProps {
    tasks: { data: Task[]; links: { url: string; label: string; active: boolean }[] };
    categories: Category[];
    filters: { search?: string };
    flash: { message?: string };
    auth: User;
}

function Index({ tasks: initialTasks, categories, filters, auth }: PageProps) {
    const { flash } = usePage&lt;PageProps&gt;().props;
    const dispatch = useDispatch();
    const tasks = useSelector((state: { tasks: { tasks: Task[] } }) =&gt; state.tasks.tasks);
    const { filter, setFilter } = useContext(FilterContext);
    const [search, setSearch] = React.useState&lt;string&gt;(filters.search || &#39;&#39;);

    useEffect(() =&gt; {
        dispatch(setTasks(initialTasks.data));

        window.Echo.private(`user.${auth.id}`).listen(&#39;TaskCreated&#39;, (e: { task: Task }) =&gt; {
            dispatch(addTask(e.task));
        });

        return () =&gt; {
            window.Echo.leave(`user.${auth.id}`);
        };
    }, [initialTasks.data, dispatch, auth.id]);

    const filteredTasks = tasks.filter((task) =&gt; {
        if (filter === &#39;completed&#39;) return task.completed;
        if (filter === &#39;pending&#39;) return !task.completed;
        if (filter !== &#39;all&#39; &amp;&amp; filter !== &#39;completed&#39; &amp;&amp; filter !== &#39;pending&#39;) {
            return task.category_id === parseInt(filter);
        }
        return true;
    });

    const handleSearch = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setSearch(e.target.value);
        Inertia.get(&#39;/tasks&#39;, { search: e.target.value }, { preserveState: true });
    };

    const handleDragEnd = (result: any) =&gt; {
        if (!result.destination) return;

        const reorderedTasks = Array.from(filteredTasks);
        const [movedTask] = reorderedTasks.splice(result.source.index, 1);
        reorderedTasks.splice(result.destination.index, 0, movedTask);

        const updatedTasks = reorderedTasks.map((task, index) =&gt; ({
            ...task,
            order: index,
        }));

        dispatch(setTasks(updatedTasks));
        Inertia.post(&#39;/tasks/reorder&#39;, { tasks: updatedTasks.map(t =&gt; ({ id: t.id, order: t.order })) });
    };

    return (
        &lt;div className=&quot;max-w-2xl mx-auto p-4&quot;&gt;
            &lt;h1 className=&quot;text-2xl font-bold&quot;&gt;Task Manager&lt;/h1&gt;
            &lt;p&gt;Welcome, {auth.name}&lt;/p&gt;
            {flash.message &amp;&amp; &lt;div className=&quot;text-green-600&quot;&gt;{flash.message}&lt;/div&gt;}
            &lt;Link href=&quot;/tasks/create&quot; className=&quot;text-blue-600 hover:underline&quot;&gt;
                Add New Task
            &lt;/Link&gt;
            &lt;div className=&quot;my-4&quot;&gt;
                &lt;input
                    type=&quot;text&quot;
                    value={search}
                    onChange={handleSearch}
                    placeholder=&quot;Search tasks...&quot;
                    className=&quot;border p-2 w-full mb-2&quot;
                    aria-label=&quot;Search tasks&quot;
                /&gt;
                &lt;FilterButtons&gt;
                    &lt;FilterButtons.Button value=&quot;all&quot; label=&quot;All&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;completed&quot; label=&quot;Completed&quot; /&gt;
                    &lt;FilterButtons.Button value=&quot;pending&quot; label=&quot;Pending&quot; /&gt;
                    {categories.map((category) =&gt; (
                        &lt;FilterButtons.Button
                            key={category.id}
                            value={category.id.toString()}
                            label={category.name}
                        /&gt;
                    ))}
                &lt;/FilterButtons&gt;
            &lt;/div&gt;
            &lt;DragDropContext onDragEnd={handleDragEnd}&gt;
                &lt;Droppable droppableId=&quot;tasks&quot;&gt;
                    {(provided) =&gt; (
                        &lt;ul
                            className=&quot;list-none p-0&quot;
                            role=&quot;list&quot;
                            {...provided.droppableProps}
                            ref={provided.innerRef}
                        &gt;
                            {filteredTasks.map((task, index) =&gt; (
                                &lt;Draggable key={task.id} draggableId={task.id.toString()} index={index}&gt;
                                    {(provided) =&gt; (
                                        &lt;div
                                            ref={provided.innerRef}
                                            {...provided.draggableProps}
                                            {...provided.dragHandleProps}
                                        &gt;
                                            &lt;TaskItem task={task} /&gt;
                                        &lt;/div&gt;
                                    )}
                                &lt;/Draggable&gt;
                            ))}
                            {provided.placeholder}
                        &lt;/ul&gt;
                    )}
                &lt;/Droppable&gt;
            &lt;/DragDropContext&gt;
            &lt;div className=&quot;mt-4&quot;&gt;
                {initialTasks.links.map((link, index) =&gt; (
                    &lt;Link
                        key={index}
                        href={link.url}
                        className={`mr-2 p-2 ${link.active ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;}`}
                        dangerouslySetInnerHTML={{ __html: link.label }}
                        aria-current={link.active ? &#39;page&#39; : undefined}
                    /&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default Index;</code></pre></li>
</ul>
<p><strong>Explanation</strong>: <code>react-beautiful-dnd</code>
enables drag-and-drop functionality. Tasks are reordered locally in
Redux and synced with the server via a <code>reorder</code>
endpoint.</p>
<hr />
<h3 id="step-3-internationalization-i18n-with-react-i18next">Step 3:
Internationalization (i18n) with react-i18next</h3>
<p>Add multilingual support for English and Spanish.</p>
<ul>
<li><p><strong>Install react-i18next</strong>:</p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install i18next react-i18next</span></code></pre></div></li>
<li><p><strong>Set Up i18next</strong>: Create
<code>resources/js/i18n.js</code>:</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> i18n <span class="im">from</span> <span class="st">&#39;i18next&#39;</span><span class="op">;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { initReactI18next } <span class="im">from</span> <span class="st">&#39;react-i18next&#39;</span><span class="op">;</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> resources <span class="op">=</span> {</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">en</span><span class="op">:</span> {</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">translation</span><span class="op">:</span> {</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Task Manager&#39;</span><span class="op">:</span> <span class="st">&#39;Task Manager&#39;</span><span class="op">,</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Add New Task&#39;</span><span class="op">:</span> <span class="st">&#39;Add New Task&#39;</span><span class="op">,</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Search tasks...&#39;</span><span class="op">:</span> <span class="st">&#39;Search tasks...&#39;</span><span class="op">,</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;All&#39;</span><span class="op">:</span> <span class="st">&#39;All&#39;</span><span class="op">,</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Completed&#39;</span><span class="op">:</span> <span class="st">&#39;Completed&#39;</span><span class="op">,</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Pending&#39;</span><span class="op">:</span> <span class="st">&#39;Pending&#39;</span><span class="op">,</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Create&#39;</span><span class="op">:</span> <span class="st">&#39;Create&#39;</span><span class="op">,</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Edit&#39;</span><span class="op">:</span> <span class="st">&#39;Edit&#39;</span><span class="op">,</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Delete&#39;</span><span class="op">:</span> <span class="st">&#39;Delete&#39;</span><span class="op">,</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Title&#39;</span><span class="op">:</span> <span class="st">&#39;Title&#39;</span><span class="op">,</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Description&#39;</span><span class="op">:</span> <span class="st">&#39;Description&#39;</span><span class="op">,</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Category&#39;</span><span class="op">:</span> <span class="st">&#39;Category&#39;</span><span class="op">,</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Select a category&#39;</span><span class="op">:</span> <span class="st">&#39;Select a category&#39;</span><span class="op">,</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Welcome&#39;</span><span class="op">:</span> <span class="st">&#39;Welcome, {{name}}&#39;</span><span class="op">,</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">es</span><span class="op">:</span> {</span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>        <span class="dt">translation</span><span class="op">:</span> {</span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Task Manager&#39;</span><span class="op">:</span> <span class="st">&#39;Gestor de Tareas&#39;</span><span class="op">,</span></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Add New Task&#39;</span><span class="op">:</span> <span class="st">&#39;AÃ±adir Nueva Tarea&#39;</span><span class="op">,</span></span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Search tasks...&#39;</span><span class="op">:</span> <span class="st">&#39;Buscar tareas...&#39;</span><span class="op">,</span></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;All&#39;</span><span class="op">:</span> <span class="st">&#39;Todos&#39;</span><span class="op">,</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Completed&#39;</span><span class="op">:</span> <span class="st">&#39;Completado&#39;</span><span class="op">,</span></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Pending&#39;</span><span class="op">:</span> <span class="st">&#39;Pendiente&#39;</span><span class="op">,</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Create&#39;</span><span class="op">:</span> <span class="st">&#39;Crear&#39;</span><span class="op">,</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Edit&#39;</span><span class="op">:</span> <span class="st">&#39;Editar&#39;</span><span class="op">,</span></span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Delete&#39;</span><span class="op">:</span> <span class="st">&#39;Eliminar&#39;</span><span class="op">,</span></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Title&#39;</span><span class="op">:</span> <span class="st">&#39;TÃ­tulo&#39;</span><span class="op">,</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Description&#39;</span><span class="op">:</span> <span class="st">&#39;DescripciÃ³n&#39;</span><span class="op">,</span></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Category&#39;</span><span class="op">:</span> <span class="st">&#39;CategorÃ­a&#39;</span><span class="op">,</span></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Select a category&#39;</span><span class="op">:</span> <span class="st">&#39;Selecciona una categorÃ­a&#39;</span><span class="op">,</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Welcome&#39;</span><span class="op">:</span> <span class="st">&#39;Bienvenido, {{name}}&#39;</span><span class="op">,</span></span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a>i18n<span class="op">.</span><span class="fu">use</span>(initReactI18next)<span class="op">.</span><span class="fu">init</span>({</span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a>    resources<span class="op">,</span></span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">lng</span><span class="op">:</span> <span class="st">&#39;en&#39;</span><span class="op">,</span></span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">interpolation</span><span class="op">:</span> {</span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>        <span class="dt">escapeValue</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb60-50"><a href="#cb60-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-51"><a href="#cb60-51" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> i18n<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update <code>app.js</code></strong>:</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">&#39;./bootstrap&#39;</span><span class="op">;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">&#39;./i18n&#39;</span><span class="op">;</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createRoot } <span class="im">from</span> <span class="st">&#39;react-dom/client&#39;</span><span class="op">;</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { createInertiaApp } <span class="im">from</span> <span class="st">&#39;@inertiajs/react&#39;</span><span class="op">;</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Provider } <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { store } <span class="im">from</span> <span class="st">&#39;./Store&#39;</span><span class="op">;</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { FilterProvider } <span class="im">from</span> <span class="st">&#39;./Context/FilterContext&#39;</span><span class="op">;</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="fu">createInertiaApp</span>({</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">resolve</span><span class="op">:</span> <span class="kw">async</span> (name) <span class="kw">=&gt;</span> {</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> <span class="im">import</span>(<span class="vs">`./Pages/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">.jsx`</span>)<span class="op">;</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> page<span class="op">.</span><span class="at">default</span><span class="op">;</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setup</span>({ el<span class="op">,</span> App<span class="op">,</span> props }) {</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">createRoot</span>(el)<span class="op">.</span><span class="fu">render</span>(</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;</span>Provider store<span class="op">=</span>{store}<span class="op">&gt;</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>                    <span class="op">&lt;</span>App {<span class="op">...</span>props} <span class="op">/&gt;</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;/</span>FilterProvider<span class="op">&gt;</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;/</span>Provider<span class="op">&gt;</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Update Index Component</strong>
(<code>Index.tsx</code>):</p>
<pre class="tsx"><code>import { useTranslation } from &#39;react-i18next&#39;;
// ...
function Index({ tasks: initialTasks, categories, filters, auth }: PageProps) {
    const { t } = useTranslation();
    // ...
    return (
        &lt;div className=&quot;max-w-2xl mx-auto p-4&quot;&gt;
            &lt;h1 className=&quot;text-2xl font-bold&quot;&gt;{t(&#39;Task Manager&#39;)}&lt;/h1&gt;
            &lt;p&gt;{t(&#39;Welcome&#39;, { name: auth.name })}&lt;/p&gt;
            {flash.message &amp;&amp; &lt;div className=&quot;text-green-600&quot;&gt;{flash.message}&lt;/div&gt;}
            &lt;Link href=&quot;/tasks/create&quot; className=&quot;text-blue-600 hover:underline&quot;&gt;
                {t(&#39;Add New Task&#39;)}
            &lt;/Link&gt;
            &lt;div className=&quot;my-4&quot;&gt;
                &lt;input
                    type=&quot;text&quot;
                    value={search}
                    onChange={handleSearch}
                    placeholder={t(&#39;Search tasks...&#39;)}
                    className=&quot;border p-2 w-full mb-2&quot;
                    aria-label={t(&#39;Search tasks...&#39;)}
                /&gt;
                &lt;FilterButtons&gt;
                    &lt;FilterButtons.Button value=&quot;all&quot; label={t(&#39;All&#39;)} /&gt;
                    &lt;FilterButtons.Button value=&quot;completed&quot; label={t(&#39;Completed&#39;)} /&gt;
                    &lt;FilterButtons.Button value=&quot;pending&quot; label={t(&#39;Pending&#39;)} /&gt;
                    {categories.map((category) =&gt; (
                        &lt;FilterButtons.Button
                            key={category.id}
                            value={category.id.toString()}
                            label={category.name}
                        /&gt;
                    ))}
                &lt;/FilterButtons&gt;
            &lt;/div&gt;
            {/* ... rest of the component ... */}
        &lt;/div&gt;
    );
}</code></pre></li>
<li><p><strong>Update TaskItem</strong> (<code>TaskItem.jsx</code>):</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useTranslation } <span class="im">from</span> <span class="st">&#39;react-i18next&#39;</span><span class="op">;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">TaskItem</span>({ task }) {</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { t } <span class="op">=</span> <span class="fu">useTranslation</span>()<span class="op">;</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;li</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>            <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 border-b border-gray-200 flex justify-between&quot;</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>            <span class="ot">role</span><span class="op">=</span><span class="st">&quot;listitem&quot;</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>            <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`</span><span class="sc">${</span><span class="fu">t</span>(<span class="st">&#39;Task&#39;</span>)<span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&gt;</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;span&gt;</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">title</span><span class="va">}</span> - <span class="va">{</span>task<span class="op">.</span><span class="at">completed</span> <span class="op">?</span> <span class="fu">t</span>(<span class="st">&#39;Done&#39;</span>) <span class="op">:</span> <span class="fu">t</span>(<span class="st">&#39;Pending&#39;</span>)<span class="va">}</span> </span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>                <span class="va">{</span>task<span class="op">.</span><span class="at">category</span> <span class="op">&amp;&amp;</span> <span class="vs">` (</span><span class="sc">${</span>task<span class="op">.</span><span class="at">category</span><span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">)`</span><span class="va">}</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/span&gt;</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;div&gt;</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;Link</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">href</span><span class="op">=</span><span class="va">{</span><span class="vs">`/tasks/</span><span class="sc">${</span>task<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">/edit`</span><span class="va">}</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-blue-600 hover:underline mr-2&quot;</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`</span><span class="sc">${</span><span class="fu">t</span>(<span class="st">&#39;Edit&#39;</span>)<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&gt;</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>                    <span class="va">{</span><span class="fu">t</span>(<span class="st">&#39;Edit&#39;</span>)<span class="va">}</span></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>                <span class="fu">&lt;/Link&gt;</span></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;button</span></span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>handleDelete<span class="va">}</span></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">className</span><span class="op">=</span><span class="st">&quot;text-red-600 hover:underline&quot;</span></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">aria-label</span><span class="op">=</span><span class="va">{</span><span class="vs">`</span><span class="sc">${</span><span class="fu">t</span>(<span class="st">&#39;Delete&#39;</span>)<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>task<span class="op">.</span><span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="va">}</span></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&gt;</span></span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a>                    <span class="va">{</span><span class="fu">t</span>(<span class="st">&#39;Delete&#39;</span>)<span class="va">}</span></span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>                <span class="kw">&lt;/button&gt;</span></span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/div&gt;</span></span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/li&gt;</span></span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Add Language Switcher</strong>: Create
<code>resources/js/Components/LanguageSwitcher.jsx</code>:</p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { useTranslation } <span class="im">from</span> <span class="st">&#39;react-i18next&#39;</span><span class="op">;</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">LanguageSwitcher</span>() {</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { i18n } <span class="op">=</span> <span class="fu">useTranslation</span>()<span class="op">;</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> changeLanguage <span class="op">=</span> (lng) <span class="kw">=&gt;</span> {</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>        i18n<span class="op">.</span><span class="fu">changeLanguage</span>(lng)<span class="op">;</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;div</span> <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="kw">&gt;</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;button</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>                <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">changeLanguage</span>(<span class="st">&#39;en&#39;</span>)<span class="va">}</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;mr-2 p-2 bg-gray-200 rounded&quot;</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&gt;</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>                English</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/button&gt;</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;button</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>                <span class="ot">onClick</span><span class="op">=</span><span class="va">{</span>() <span class="kw">=&gt;</span> <span class="fu">changeLanguage</span>(<span class="st">&#39;es&#39;</span>)<span class="va">}</span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>                <span class="ot">className</span><span class="op">=</span><span class="st">&quot;p-2 bg-gray-200 rounded&quot;</span></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&gt;</span></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>                EspaÃ±ol</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;/button&gt;</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/div&gt;</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> LanguageSwitcher<span class="op">;</span></span></code></pre></div></li>
<li><p>Update <code>Index.tsx</code> to include the switcher:</p>
<pre class="tsx"><code>import LanguageSwitcher from &#39;../Components/LanguageSwitcher&#39;;
// ...
return (
    &lt;div className=&quot;max-w-2xl mx-auto p-4&quot;&gt;
        &lt;LanguageSwitcher /&gt;
        &lt;h1 className=&quot;text-2xl font-bold&quot;&gt;{t(&#39;Task Manager&#39;)}&lt;/h1&gt;
        {/* ... rest of the component ... */}
    &lt;/div&gt;
);</code></pre></li>
</ul>
<p><strong>Explanation</strong>: <code>react-i18next</code> enables
multilingual support with translations for English and Spanish. The
language switcher toggles between languages dynamically.</p>
<hr />
<h3 id="step-4-progressive-web-app-pwa">Step 4: Progressive Web App
(PWA)</h3>
<p>Enable offline support and push notifications using a service
worker.</p>
<ul>
<li><p><strong>Install Workbox</strong>:</p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install workbox-webpack-plugin</span></code></pre></div></li>
<li><p><strong>Update Vite Config</strong>
(<code>vite.config.js</code>):</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { defineConfig } <span class="im">from</span> <span class="st">&#39;vite&#39;</span><span class="op">;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> laravel <span class="im">from</span> <span class="st">&#39;laravel-vite-plugin&#39;</span><span class="op">;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> react <span class="im">from</span> <span class="st">&#39;@vitejs/plugin-react&#39;</span><span class="op">;</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { GenerateSW } <span class="im">from</span> <span class="st">&#39;workbox-webpack-plugin&#39;</span><span class="op">;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="fu">defineConfig</span>({</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">plugins</span><span class="op">:</span> [</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">laravel</span>({</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>            <span class="dt">input</span><span class="op">:</span> [<span class="st">&#39;resources/css/app.css&#39;</span><span class="op">,</span> <span class="st">&#39;resources/js/app.js&#39;</span><span class="op">,</span> <span class="st">&#39;resources/js/ssr.js&#39;</span>]<span class="op">,</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt">ssr</span><span class="op">:</span> <span class="st">&#39;resources/js/ssr.js&#39;</span><span class="op">,</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">refresh</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">react</span>()<span class="op">,</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;workbox&#39;</span><span class="op">,</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>            <span class="dt">enforce</span><span class="op">:</span> <span class="st">&#39;post&#39;</span><span class="op">,</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">generateBundle</span>() {</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>                <span class="kw">new</span> <span class="fu">GenerateSW</span>({</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">clientsClaim</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">skipWaiting</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">runtimeCaching</span><span class="op">:</span> [{</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">urlPattern</span><span class="op">:</span> ({ request }) <span class="kw">=&gt;</span> request<span class="op">.</span><span class="at">destination</span> <span class="op">===</span> <span class="st">&#39;document&#39;</span><span class="op">,</span></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">handler</span><span class="op">:</span> <span class="st">&#39;NetworkFirst&#39;</span><span class="op">,</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>                    }]<span class="op">,</span></span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>                })<span class="op">.</span><span class="fu">generateSW</span>()<span class="op">;</span></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Create Manifest</strong>: Create
<code>public/manifest.json</code>:</p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Task Manager&quot;</span><span class="fu">,</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;short_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Tasks&quot;</span><span class="fu">,</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;start_url&quot;</span><span class="fu">:</span> <span class="st">&quot;/tasks&quot;</span><span class="fu">,</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;display&quot;</span><span class="fu">:</span> <span class="st">&quot;standalone&quot;</span><span class="fu">,</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;background_color&quot;</span><span class="fu">:</span> <span class="st">&quot;#ffffff&quot;</span><span class="fu">,</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;theme_color&quot;</span><span class="fu">:</span> <span class="st">&quot;#000000&quot;</span><span class="fu">,</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;icons&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;src&quot;</span><span class="fu">:</span> <span class="st">&quot;/icon.png&quot;</span><span class="fu">,</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;sizes&quot;</span><span class="fu">:</span> <span class="st">&quot;192x192&quot;</span><span class="fu">,</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;image/png&quot;</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
<li><p><strong>Add Meta Tags</strong>: Update
<code>resources/views/app.blade.php</code>:</p>
<pre class="blade"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;/manifest.json&quot;&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    @viteReactRefresh
    @vite([&#39;resources/css/app.css&#39;, &#39;resources/js/app.js&#39;])
    @inertiaHead
&lt;/head&gt;
&lt;body&gt;
    @inertia
    &lt;script&gt;
        if (&#39;serviceWorker&#39; in navigator) {
            navigator.serviceWorker.register(&#39;/sw.js&#39;);
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></li>
<li><p><strong>Test PWA</strong>:</p>
<ul>
<li>Build the app: <code>npm run build</code>.</li>
<li>Serve with <code>php artisan serve</code> and check the browserâ€™s
DevTools (Application tab) for service worker registration.</li>
<li>Test offline mode by disabling the network in DevTools.</li>
</ul></li>
</ul>
<p><strong>Explanation</strong>: The service worker caches pages for
offline access. The manifest enables installation as a PWA.</p>
<hr />
<h3 id="step-5-testing-the-app">Step 5: Testing the App</h3>
<ol type="1">
<li><p><strong>Run Locally</strong>:</p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> artisan serve</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run dev</span></code></pre></div></li>
<li><p><strong>Test Features</strong>:</p>
<ul>
<li>Register/login and verify user-specific tasks.</li>
<li>Reorder tasks via drag-and-drop and confirm server updates.</li>
<li>Switch languages (English/Spanish) and verify translations.</li>
<li>Test offline mode by disabling the network.</li>
</ul></li>
<li><p><strong>Run Tests</strong>:</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> test</span></code></pre></div></li>
</ol>
<hr />
<h3 id="summary-1">Summary</h3>
<ul>
<li><strong>Authentication</strong>: Added user authentication with
Laravel Breeze, scoping tasks to users.</li>
<li><strong>Complex UI</strong>: Implemented drag-and-drop task
reordering with <code>react-beautiful-dnd</code>.</li>
<li><strong>Internationalization</strong>: Added multilingual support
with <code>react-i18next</code>.</li>
<li><strong>PWA</strong>: Enabled offline support with a service worker
and manifest.</li>
<li><strong>Advanced React</strong>: Continued using TypeScript,
compound components, and performance optimizations.</li>
</ul>
<h3 id="next-steps">Next Steps</h3>
<ul>
<li><strong>Add Push Notifications</strong>: Extend the PWA with push
notifications using Pusher.</li>
<li><strong>Micro-Frontends</strong>: Explore splitting the app into
micro-frontends for scalability.</li>
<li><strong>Contribute to Open Source</strong>: Share your app or
components on GitHub.</li>
<li><strong>Portfolio</strong>: Document the project for your
portfolio.</li>
</ul>
<p>If you want to dive into one of these (e.g., push notifications or
micro-frontends), or need help with debugging, let me know, and Iâ€™ll
provide a detailed guide!</p>
