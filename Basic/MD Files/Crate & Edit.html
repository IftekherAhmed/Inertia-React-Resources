<p>Here’s a clear breakdown of the edit/create forms, showing how they
connect between Laravel and React:</p>
<h3 id="create-form-flow">1. Create Form Flow</h3>
<h4 id="controller-php">Controller (PHP)</h4>
<div class="sourceCode" id="cb1"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Show create form</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> create()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Client/Create&#39;</span><span class="ot">,</span> [</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;company_list&#39;</span> =&gt; <span class="cn">C</span>ompany::orderBy(<span class="st">&#39;name&#39;</span>)-&gt;get()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">// Handle form submission</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> store(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Validate data</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;company_id&#39;</span> =&gt; <span class="st">&#39;required|exists:companies,id&#39;</span><span class="ot">,</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;name&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;email&#39;</span> =&gt; <span class="st">&#39;nullable|email&#39;</span><span class="ot">,</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ... other validation rules</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 2. Create client</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="va">$client</span> <span class="op">=</span> <span class="cn">M</span>odelsClient::create(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 3. Redirect with success message</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;clients.index&#39;</span>)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        -&gt;with(<span class="st">&#39;success&#39;</span><span class="ot">,</span> <span class="st">&#39;Client created successfully&#39;</span>)<span class="ot">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="react-component-create.tsx">React Component (Create.tsx)</h4>
<pre class="tsx"><code>import { useForm } from &#39;@inertiajs/react&#39;;

export default function ClientCreate({ company_list }) {
    // 1. Initialize form
    const { data, setData, post, errors } = useForm({
        company_id: &#39;&#39;,
        name: &#39;&#39;,
        email: &#39;&#39;,
        // ... other fields
    });

    // 2. Handle submission
    const handleSubmit = (e) =&gt; {
        e.preventDefault();
        post(&#39;/clients&#39;);
    };

    return (
        &lt;div&gt;
            &lt;h1&gt;Create Client&lt;/h1&gt;
            
            {/* 3. Form structure */}
            &lt;form onSubmit={handleSubmit}&gt;
                {/* Company select */}
                &lt;div&gt;
                    &lt;label&gt;Company&lt;/label&gt;
                    &lt;select
                        value={data.company_id}
                        onChange={(e) =&gt; setData(&#39;company_id&#39;, e.target.value)}
                    &gt;
                        &lt;option value=&quot;&quot;&gt;Select Company&lt;/option&gt;
                        {company_list.map(company =&gt; (
                            &lt;option key={company.id} value={company.id}&gt;
                                {company.name}
                            &lt;/option&gt;
                        ))}
                    &lt;/select&gt;
                    {errors.company_id &amp;&amp; &lt;span&gt;{errors.company_id}&lt;/span&gt;}
                &lt;/div&gt;

                {/* Name input */}
                &lt;div&gt;
                    &lt;label&gt;Name&lt;/label&gt;
                    &lt;input
                        value={data.name}
                        onChange={(e) =&gt; setData(&#39;name&#39;, e.target.value)}
                    /&gt;
                    {errors.name &amp;&amp; &lt;span&gt;{errors.name}&lt;/span&gt;}
                &lt;/div&gt;

                {/* Submit button */}
                &lt;button type=&quot;submit&quot;&gt;Create Client&lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    );
}</code></pre>
<h3 id="edit-form-flow">2. Edit Form Flow</h3>
<h4 id="controller-php-1">Controller (PHP)</h4>
<div class="sourceCode" id="cb3"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Show edit form</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> edit(<span class="cn">M</span>odelsClient <span class="va">$client</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">I</span>nertia::render(<span class="st">&#39;Client/Edit&#39;</span><span class="ot">,</span> [</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;client&#39;</span> =&gt; <span class="va">$client</span><span class="ot">,</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;company_list&#39;</span> =&gt; <span class="cn">C</span>ompany::orderBy(<span class="st">&#39;name&#39;</span>)-&gt;get()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Handle form submission</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> update(<span class="cn">R</span>equest <span class="va">$request</span><span class="ot">,</span> <span class="cn">M</span>odelsClient <span class="va">$client</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Validate data</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;company_id&#39;</span> =&gt; <span class="st">&#39;required|exists:companies,id&#39;</span><span class="ot">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;name&#39;</span> =&gt; <span class="st">&#39;required|string|max:255&#39;</span><span class="ot">,</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ... other validation rules</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 2. Update client</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="va">$client</span>-&gt;update(<span class="va">$validated</span>)<span class="ot">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 3. Redirect with success message</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> redirect()-&gt;route(<span class="st">&#39;clients.index&#39;</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        -&gt;with(<span class="st">&#39;success&#39;</span><span class="ot">,</span> <span class="st">&#39;Client updated successfully&#39;</span>)<span class="ot">;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="react-component-edit.tsx">React Component (Edit.tsx)</h4>
<pre class="tsx"><code>import { useForm } from &#39;@inertiajs/react&#39;;

export default function ClientEdit({ client, company_list }) {
    // 1. Initialize form with existing data
    const { data, setData, put, errors } = useForm({
        company_id: client.company_id,
        name: client.name,
        email: client.email,
        // ... other fields
    });

    // 2. Handle submission
    const handleSubmit = (e) =&gt; {
        e.preventDefault();
        put(`/clients/${client.id}`);
    };

    return (
        &lt;div&gt;
            &lt;h1&gt;Edit Client&lt;/h1&gt;
            
            {/* 3. Form structure */}
            &lt;form onSubmit={handleSubmit}&gt;
                {/* Company select */}
                &lt;div&gt;
                    &lt;label&gt;Company&lt;/label&gt;
                    &lt;select
                        value={data.company_id}
                        onChange={(e) =&gt; setData(&#39;company_id&#39;, e.target.value)}
                    &gt;
                        &lt;option value=&quot;&quot;&gt;Select Company&lt;/option&gt;
                        {company_list.map(company =&gt; (
                            &lt;option 
                                key={company.id} 
                                value={company.id}
                                selected={company.id === data.company_id}
                            &gt;
                                {company.name}
                            &lt;/option&gt;
                        ))}
                    &lt;/select&gt;
                    {errors.company_id &amp;&amp; &lt;span&gt;{errors.company_id}&lt;/span&gt;}
                &lt;/div&gt;

                {/* Name input */}
                &lt;div&gt;
                    &lt;label&gt;Name&lt;/label&gt;
                    &lt;input
                        value={data.name}
                        onChange={(e) =&gt; setData(&#39;name&#39;, e.target.value)}
                    /&gt;
                    {errors.name &amp;&amp; &lt;span&gt;{errors.name}&lt;/span&gt;}
                &lt;/div&gt;

                {/* Submit button */}
                &lt;button type=&quot;submit&quot;&gt;Update Client&lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    );
}</code></pre>
<h3 id="key-differences-between-create-and-edit">Key Differences Between
Create and Edit</h3>
<table>
<colgroup>
<col style="width: 43%" />
<col style="width: 29%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Create Form</th>
<th>Edit Form</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Initial Data</td>
<td>Empty fields</td>
<td>Pre-filled with existing data</td>
</tr>
<tr class="even">
<td>Form Action</td>
<td>POST <code>/clients</code></td>
<td>PUT <code>/clients/{id}</code></td>
</tr>
<tr class="odd">
<td>Controller Method</td>
<td><code>store()</code></td>
<td><code>update()</code></td>
</tr>
<tr class="even">
<td>Submit Button</td>
<td>“Create”</td>
<td>“Update”</td>
</tr>
<tr class="odd">
<td>Data Loading</td>
<td>Only needs company list</td>
<td>Needs client data + company list</td>
</tr>
</tbody>
</table>
<h3 id="form-submission-flow">Form Submission Flow</h3>
<pre class="mermaid"><code>sequenceDiagram
    Browser-&gt;&gt;React: User fills form
    React-&gt;&gt;Browser: Track form state
    Browser-&gt;&gt;React: User submits
    React-&gt;&gt;Laravel: POST/PUT request
    Laravel-&gt;&gt;Database: Validate &amp; save
    Database-&gt;&gt;Laravel: Success/failure
    Laravel-&gt;&gt;Browser: Redirect with flash message
    Browser-&gt;&gt;React: Show success/error</code></pre>
<h3 id="handling-imagesfile-uploads">Handling Images/File Uploads</h3>
<p>For forms with file uploads (like client photos):</p>
<h4 id="controller-adjustment">Controller Adjustment:</h4>
<div class="sourceCode" id="cb6"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">function</span> store(<span class="cn">R</span>equest <span class="va">$request</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">$validated</span> <span class="op">=</span> <span class="va">$request</span>-&gt;validate([</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;avatar&#39;</span> =&gt; <span class="st">&#39;nullable|image|max:2048&#39;</span><span class="ot">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ... other fields</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    ])<span class="ot">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">$request</span>-&gt;hasFile(<span class="st">&#39;avatar&#39;</span>)) {</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">$validated</span>[<span class="st">&#39;avatar_path&#39;</span>] <span class="op">=</span> <span class="va">$request</span>-&gt;<span class="fu">file</span>(<span class="st">&#39;avatar&#39;</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>            -&gt;store(<span class="st">&#39;avatars&#39;</span><span class="ot">,</span> <span class="st">&#39;public&#39;</span>)<span class="ot">;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... rest of store logic</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="react-component-adjustment">React Component Adjustment:</h4>
<pre class="tsx"><code>const { data, setData } = useForm({
    avatar: null,
    // ... other fields
});

// In your form:
&lt;input 
    type=&quot;file&quot;
    onChange={(e) =&gt; setData(&#39;avatar&#39;, e.target.files[0])}
/&gt;</code></pre>
<h3 id="key-takeaways">Key Takeaways:</h3>
<ol type="1">
<li><strong>Create Forms</strong>:
<ul>
<li>Start empty</li>
<li>POST to resource root URL (<code>/clients</code>)</li>
<li>Use <code>store()</code> method in controller</li>
</ul></li>
<li><strong>Edit Forms</strong>:
<ul>
<li>Pre-fill with existing data</li>
<li>PUT/PATCH to resource ID URL (<code>/clients/1</code>)</li>
<li>Use <code>update()</code> method in controller</li>
</ul></li>
<li><strong>Shared Logic</strong>:
<ul>
<li>Both use similar validation rules</li>
<li>Same form structure in React</li>
<li>Similar success/error handling</li>
</ul></li>
</ol>
<p>Would you like me to: 1. Show how to add more complex field types
(like date pickers)? 2. Explain the validation flow in more detail? 3.
Demonstrate how to handle form errors differently?</p>
