<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Laravel 12 + Inertia.js 2 + React 19 + TypeScript | Complete CRUD Guide for Laravel Experts New to React</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Prism.js -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

  <!-- Font: Inter (clean, standard, professional) -->
  <link href="https://rsms.me/inter/inter.css" rel="stylesheet"/>

  <style>
    :root {
      --primary: #4361ee;
      --success: #2ecc71;
      --danger: #e74c3c;
      --warning: #f39c12;
      --dark: #2d3436;
      --light: #f8f9fa;
      --gray: #95a5a6;
    }

    body {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      line-height: 1.6;
      color: #2d3436;
      background: #f4f6f9;
    }

    .navbar {
      background: var(--primary);
      font-weight: 500;
    }
    .navbar-brand, .nav-link { color: white !important; }

    .hero {
      background: linear-gradient(135deg, #4361ee 0%, #3f37c9 100%);
      color: white;
      padding: 70px 0;
      text-align: center;
    }
    .hero h1 { font-size: 2.2rem; font-weight: 700; }
    .hero p { font-size: 1rem; max-width: 700px; margin: 15px auto 0; }

    .container { max-width: 1200px; }

    .section-header {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 8px;
      margin: 10px 0 25px;
    }

    .card {
      border: none;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      margin-bottom: 25px;
    }
    .card-header {
      background: var(--primary);
      color: white;
      font-weight: 600;
      font-size: 1rem;
      border-radius: 10px 10px 0 0 !important;
    }

    .command {
      background: #2d3436;
      color: #00ff88;
      font-family: 'Fira Code', monospace;
      padding: 10px 14px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      margin: 12px 0;
      border-left: 4px solid #00ff88;
    }

    .file-path {
      background: #e9ecef;
      color: #495057;
      padding: 6px 10px;
      border-radius: 5px;
      font-family: 'Fira Code', monospace;
      font-size: 0.85rem;
      font-weight: 600;
      display: inline-block;
      margin: 10px 0 5px;
    }

    pre {
      background: #2d3436 !important;
      color: #dfe6e9 !important;
      padding: 16px !important;
      border-radius: 8px !important;
      font-size: 0.88rem !important;
      margin: 10px 0 !important;
      overflow-x: auto;
    }

    .toc {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      position: sticky;
      top: 10px;
      font-size: 0.9rem;
    }
    .toc a {
      color: #495057;
      text-decoration: none;
      display: block;
      padding: 5px 0;
      border-radius: 5px;
    }
    .toc a:hover { background: #ebf8ff; color: var(--primary); padding-left: 6px; }
    .toc a.active { 
      background: #ebf8ff; 
      color: var(--primary); 
      font-weight: 600; 
      border-left: 3px solid var(--primary);
      padding-left: 3px;
    }

    /* Scroll to Top Button */
    #scrollToTopBtn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 99;
      border: none;
      outline: none;
      background-color: var(--primary);
      color: white;
      cursor: pointer;
      padding: 15px;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    #scrollToTopBtn:hover {
      background-color: #334fce;
    }

    .badge { font-size: 0.8rem; padding: 5px 10px; }

    .footer {
      background: #2d3436;
      color: #b2bec3;
      padding: 10px 0;
      margin-top: 80px;
      font-size: 0.9rem;
    }

    .alert {
      font-size: 0.9rem;
      border-left: 4px solid;
      padding: 12px;
      margin: 15px 0;
    }
    .alert-primary { border-color: var(--primary); background: #ebf8ff; }
    .alert-success { border-color: var(--success); background: #d1f2eb; }
    .alert-warning { border-color: var(--warning); background: #fef5e7; }

    @media (max-width: 768px) {
      .hero h1 { font-size: 1.8rem; }
      .toc { position: static; }
    }
  </style>
</head>
<body>
  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Complete Laravel 12 + Inertia.js 2 + React 19 Guide</h1>
      <p>A comprehensive, step-by-step tutorial for Laravel developers new to React. We'll build a full CRUD app with advanced features, showing complete code updates at each step. Explanations are detailed, comparing to Laravel concepts to make React easier to learn.</p>
      <div class="mt-3">
        <span class="badge bg-light text-dark">Laravel 12</span>
        <span class="badge bg-light text-dark">Inertia.js 2</span>
        <span class="badge bg-light text-dark">React 19</span>
        <span class="badge bg-light text-dark">TypeScript</span>
        <span class="badge bg-light text-dark">Tailwind + ShadCN</span>
      </div>
    </div>
  </section>

  <div class="container my-5">
    <div class="row">
      <!-- TOC -->
      <div class="col-lg-3">
        <div class="toc">
          <h6 class="fw-bold text-primary">Table of Contents</h6>
          <ul class="list-unstyled mt-3">
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#basics">1. Basics Setup</a></li>
            <li><a href="#controller">2. Controller</a></li>
            <li><a href="#requests">3. Form Requests</a></li>
            <li><a href="#service">4. Service</a></li>
            <li><a href="#index">5. Index Page (READ)</a></li>
            <li><a href="#create">6. Create Page</a></li>
            <li><a href="#edit">7. Edit Page</a></li>
            <li><a href="#show">8. Show Page</a></li>
            <li><a href="#delete">9. Delete Functionality</a></li>
            <li><a href="#search">10. Add Search</a></li>
            <li><a href="#sort">11. Add Sort</a></li>
            <li><a href="#filter">12. Add Filter</a></li>
            <li><a href="#pagination">13. Add Pagination</a></li>
            <li><a href="#reset">14. Add Reset</a></li>
            <li><a href="#export">15. Table Export</a></li>
            <li><a href="#hooks">16. Inertia React JS Basic Functions</a></li>
            <li><a href="#rows">17. Add/Remove Row</a></li>
            <li><a href="#price">18. Price Calculation</a></li>
            <li><a href="#toggler">19. Toggler</a></li>
            <li><a href="#advanced">20. Advanced Features</a></li>
            <li><a href="#layout">21. Custom Layouts</a></li>
          </ul>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-lg-9">

        <!-- Introduction -->
        <section id="introduction" class="section-header">
          <h2>Introduction</h2>
          <div class="alert alert-primary">
            <p>This guide is designed for you—a Laravel expert just starting with React. Each section shows the full updated code for affected files, so you can follow along and see exactly how things change. We'll explain React concepts by comparing them to Laravel equivalents, making it easier to grasp. If something feels unclear, imagine copying the code and testing it— we've aimed for that level of detail and clarity.</p>
            <p>We'll build a Post CRUD system step by step, adding features progressively. Test after each section to see it work.</p>
          </div>
        </section>

        <!-- Prerequisites -->
        <section id="prerequisites" class="section-header">
          <h2>Prerequisites</h2>
          <div class="alert alert-warning">
            <ul>
              <li>Laravel 12 project: <code>composer create-project laravel/laravel my-app</code>.</li>
              <li>Inertia with React: <code>composer require inertiajs/inertia-laravel</code>, then <code>php artisan inertia:middleware</code>, and setup React with <code>npm install @inertiajs/react</code>.</li>
              <li>Node.js/npm for frontend.</li>
              <li>TypeScript: Add via <code>npm install typescript @types/react</code>.</li>
              <li>UI: Tailwind (<code>npm install -D tailwindcss</code>) and ShadCN (<code>npx shadcn-ui@latest init</code>).</li>
            </ul>
            <p>Run <code>npm run dev</code> and <code>php artisan serve</code> to start.</p>
          </div>
        </section>

        <!-- 1. BASICS SETUP -->
        <section id="basics" class="section-header">
          <h2>1. Basics Setup</h2>
          <p>Let's set up the database and model. This is pure Laravel—no React yet. Run commands and edit files as shown.</p>

          <!-- 1. Migration -->
          <div class="card">
            <div class="card-header">1.1 Migration</div>
            <div class="card-body">
              <p>Create the migration for posts table with basic fields.</p>
              <div class="command">php artisan make:migration create_posts_table</div>
              <div class="file-path">database/migrations/xxxx_create_posts_table.php</div>
              <pre><code class="language-php">&lt;?php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(): void {
        Schema::create('posts', function (Blueprint $table) {
            $table->id();
            $table->string('title');
            $table->text('description')->nullable();
            $table->string('image')->nullable();
            $table->boolean('is_published')->default(false);
            $table->timestamps();
            $table->softDeletes();
        });
    }
    
    public function down(): void {
        Schema::dropIfExists('posts');
    }
};</code></pre>
              <div class="command">php artisan migrate</div>
              <p class="alert alert-success">Now your database has a posts table. Soft deletes are included for later use.</p>
            </div>
          </div>

          <!-- 1.2 Factory -->
          <div class="card">
            <div class="card-header">1.2 Factory</div>
            <div class="card-body">
              <p>Create factory for fake data.</p>
              <div class="command">php artisan make:factory PostFactory</div>
              <div class="file-path">database/factories/PostFactory.php</div>
              <pre><code class="language-php">&lt;?php
namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;

class PostFactory extends Factory {
    public function definition(): array {
        return [
            'title' => fake()->sentence(6),
            'description' => fake()->paragraph(4),
            'image' => 'posts/'.fake()->uuid().'.jpg',
            'is_published' => fake()->boolean(70),
        ];
    }
}</code></pre>
              <p class="alert alert-success">This generates realistic test data.</p>
            </div>
          </div>

          <!-- 1.3 Seeder -->
          <div class="card">
            <div class="card-header">1.3 Seeder</div>
            <div class="card-body">
              <p>Create seeder to populate data.</p>
              <div class="command">php artisan make:seeder PostSeeder</div>
              <div class="file-path">database/seeders/PostSeeder.php</div>
              <pre><code class="language-php">&lt;?php
namespace Database\Seeders;

use App\Models\Post;
use Illuminate\Database\Seeder;

class PostSeeder extends Seeder {
    public function run(): void {
        Post::factory(100)->create();
    }
}</code></pre>
              <div class="command">php artisan db:seed --class=PostSeeder</div>
              <p class="alert alert-success">You now have 100 fake posts. Check with <code>php artisan tinker</code> or DB tool.</p>
            </div>
          </div>

          <!-- 1.4 Model -->
          <div class="card">
            <div class="card-header">1.4 Model</div>
            <div class="card-body">
              <p>Create model with basics. Scopes added later.</p>
              <div class="command">php artisan make:model Post</div>
              <div class="file-path">app/Models/Post.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;
use Illuminate\Support\Facades\Storage;

class Post extends Model {
    use HasFactory, SoftDeletes;

    protected $fillable = ['title', 'description', 'image', 'is_published'];
    protected $casts = ['is_published' => 'boolean'];
    
    public function getImageUrlAttribute() {
        if ($this->image) {
            return Storage::url($this->image);
        }
        return null;
    }
}</code></pre>
              <p class="alert alert-success">Model ready. Accessor for image URL is like a computed property.</p>
            </div>
          </div>

          <!-- 1.5 Routes -->
          <div class="card">
            <div class="card-header">1.5 Routes</div>
            <div class="card-body">
              <p>Add resource routes. More added later.</p>
              <div class="file-path">routes/web.php</div>
              <pre><code class="language-php">&lt;?php
use Illuminate\Support\Facades\Route;
use App\Http\Controllers\PostController;

Route::get('/', function () {
    return redirect()->route('post.index');
});

Route::resource('posts', PostController::class);</code></pre>
              <p class="alert alert-success">Routes set. Controller created next.</p>
            </div>
          </div>
        </section>

        <!-- 2. CONTROLLER -->
        <section id="controller" class="section-header">
          <h2>2. Controller</h2>
          <p>Create resource controller with basic CRUD. Uses Inertia to render React pages. Like returning views, but with data as props.</p>

          <div class="card">
            <div class="card-header">2.1 Initial Controller</div>
            <div class="card-body">
              <div class="command">php artisan make:controller PostController --resource</div>
              <div class="file-path">app/Http/Controllers/PostController.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Http\Controllers;

use App\Models\Post;
use Illuminate\Http\Request;
use Inertia\Inertia;

class PostController extends Controller {
    public function index() {
        $posts = Post::all();
        return Inertia::render('Post/Index', ['posts' => $posts]);
    }
    
    public function create() { 
        return Inertia::render('Post/Create'); 
    }
    
    public function store(Request $request) {
        $validated = $request->validate([
            'title' => 'required|string|max:255|unique:posts,title',
            'description' => 'nullable|string|max:1000',
            'image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
            'is_published' => 'boolean',
        ]);
        if ($request->hasFile('image')) {
            $validated['image'] = $request->file('image')->store('posts', 'public');
        }
        Post::create($validated);
        return redirect()->route('post.index')->with('success', 'Post created successfully.');
    }
    
    public function show(Post $post) { 
        return Inertia::render('Post/Show', ['post' => $post]); 
    }
    
    public function edit(Post $post) { 
        return Inertia::render('Post/Edit', ['post' => $post]); 
    }
    
    public function update(Request $request, Post $post) {
        $validated = $request->validate([
            'title' => 'required|string|max:255|unique:posts,title,' . $post->id,
            'description' => 'nullable|string|max:1000',
            'image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
            'is_published' => 'boolean',
        ]);
        if ($request->hasFile('image')) {
            if ($post->image) {
                Storage::disk('public')->delete($post->image);
            }
            $validated['image'] = $request->file('image')->store('posts', 'public');
        }
        $post->update($validated);
        return redirect()->route('post.index')->with('success', 'Post updated successfully.');
    }
    
    public function destroy(Post $post) {
        $post->delete();
        return redirect()->route('post.index')->with('success', 'Post deleted successfully.');
    }
}</code></pre>
              <p class="alert alert-primary">This is the full initial controller. Validation is inline for now. Inertia::render sends data to React—'posts' becomes props in the component.</p>
              <p class="alert alert-success">Test: Visit /posts. You should see a 404 for missing React files—we'll add them soon.</p>
            </div>
          </div>
        </section>

        <!-- 3. FORM REQUESTS -->
        <section id="requests" class="section-header">
          <h2>3. Form Requests</h2>
          <p>Move validation to form requests for cleaner code. Update controller to use PostRequest.</p>

          <div class="card">
            <div class="card-header">3.1 Create Form Request</div>
            <div class="card-body">
              <div class="command">php artisan make:request PostRequest</div>
              <div class="file-path">app/Http/Requests/PostRequest.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;
use Illuminate\Validation\Rule;

class PostRequest extends FormRequest {
    public function rules(): array {
        $rules = [
            'title' => 'required|string|max:255',
            'description' => 'nullable|string|max:1000',
            'image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
            'is_published' => 'boolean',
        ];
        
        if ($this->isMethod('post')) {
            $rules['title'] .= '|unique:posts,title';
        } else {
            $rules['title'] = ['required', 'string', 'max:255', Rule::unique('posts')->ignore($this->post)];
        }
        
        return $rules;
    }
    
    public function messages(): array {
        return [
            'title.required' => 'A title is required',
            'title.unique' => 'This title has already been taken',
            'description.max' => 'Description must not exceed 1000 characters',
            'image.image' => 'The file must be an image',
            'image.max' => 'The image must not be larger than 2MB',
        ];
    }
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">3.2 Updated Controller with Form Request</div>
            <div class="card-body">
              <p>Replace Request with PostRequest in store/update. Remove inline validation—it's now in the request.</p>
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">&lt;?php
namespace App\Http\Controllers;

use App\Models\Post;
use App\Http\Requests\PostRequest;
use Inertia\Inertia;
use Illuminate\Support\Facades\Storage;

class PostController extends Controller {
    public function index() {
        $posts = Post::all();
        return Inertia::render('Post/Index', ['posts' => $posts]);
    }
    
    public function create() { 
        return Inertia::render('Post/Create'); 
    }
    
    public function store(PostRequest $request) {
        $data = $request->validated();
        if ($request->hasFile('image')) {
            $data['image'] = $request->file('image')->store('posts', 'public');
        }
        Post::create($data);
        return redirect()->route('post.index')->with('success', 'Post created successfully.');
    }
    
    public function show(Post $post) { 
        return Inertia::render('Post/Show', ['post' => $post]); 
    }
    
    public function edit(Post $post) { 
        return Inertia::render('Post/Edit', ['post' => $post]); 
    }
    
    public function update(PostRequest $request, Post $post) {
        $data = $request->validated();
        if ($request->hasFile('image')) {
            if ($post->image) {
                Storage::disk('public')->delete($post->image);
            }
            $data['image'] = $request->file('image')->store('posts', 'public');
        }
        $post->update($data);
        return redirect()->route('post.index')->with('success', 'Post updated successfully.');
    }
    
    public function destroy(Post $post) {
        $post->delete();
        return redirect()->route('post.index')->with('success', 'Post deleted successfully.');
    }
}</code></pre>
              <p class="alert alert-primary">Now validation happens automatically on injection. Custom messages improve error handling.</p>
              <p class="alert alert-success">Test store with invalid data—errors should return.</p>
            </div>
          </div>
        </section>

        <!-- 4. SERVICE -->
        <section id="service" class="section-header">
          <h2>4. Service</h2>
          <p>Introduce a service for business logic, like a repository. This keeps controller thin. Create service, then update controller to use it.</p>

          <div class="card">
            <div class="card-header">4.1 Create Post Service</div>
            <div class="card-body">
              <p>Create directory app/Services if needed, then the file.</p>
              <div class="file-path">app/Services/PostService.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Services;

use App\Models\Post;
use Illuminate\Http\Request;

class PostService {
    public function getPostList(Request $request) {
        return Post::all();
    }

    public function createPost(array $data) {
        try {
            return Post::create($data);
        } catch (\Exception $e) {
            throw new \Exception('Failed to create post: ' . $e->getMessage());
        }
    }

    public function updatePost(Post $post, array $data) {
        try {
            $post->update($data);
            return $post;
        } catch (\Exception $e) {
            throw new \Exception('Failed to update post: ' . $e->getMessage());
        }
    }

    public function deletePost(Post $post) {
        try {
            $post->delete();
            return true;
        } catch (\Exception $e) {
            throw new \Exception('Failed to delete post: ' . $e->getMessage());
        }
    }
    
    public function getPostById($id) {
        try {
            return Post::findOrFail($id);
        } catch (\Exception $e) {
            throw new \Exception('Post not found: ' . $e->getMessage());
        }
    }
}</code></pre>
              <p class="alert alert-primary">Service handles CRUD with error wrapping—like a Laravel action class.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">4.2 Updated Controller with Service</div>
            <div class="card-body">
              <p>Add injection and use service methods. Wrap in try-catch for errors.</p>
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">&lt;?php
namespace App\Http\Controllers;

use App\Models\Post;
use App\Http\Requests\PostRequest;
use App\Services\PostService;
use Inertia\Inertia;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Storage;

class PostController extends Controller {
    protected $postService;

    public function __construct(PostService $postService) {
        $this->postService = $postService;
    }

    public function index(Request $request) {
        $result = $this->postService->getPostList($request);
        return Inertia::render('Post/Index', [
            'posts' => $result,
        ]);
    }
    
    public function create() { 
        return Inertia::render('Post/Create'); 
    }
    
    public function store(PostRequest $request) {
        try {
            $data = $request->validated();
            if ($request->hasFile('image')) {
                $data['image'] = $request->file('image')->store('posts', 'public');
            }
            $this->postService->createPost($data);
            return redirect()->route('post.index')->with('success', 'Post created successfully.');
        } catch (\Exception $e) {
            return back()->with('error', $e->getMessage());
        }
    }
    
    public function show(Post $post) { 
        $post = $this->postService->getPostById($post->id);
        return Inertia::render('Post/Show', ['post' => $post]); 
    }
    
    public function edit(Post $post) { 
        return Inertia::render('Post/Edit', ['post' => $post]); 
    }
    
    public function update(PostRequest $request, Post $post) {
        try {
            $data = $request->validated();
            if ($request->hasFile('image')) {
                if ($post->image) {
                    Storage::disk('public')->delete($post->image);
                }
                $data['image'] = $request->file('image')->store('posts', 'public');
            }
            $this->postService->updatePost($post, $data);
            return redirect()->route('post.index')->with('success', 'Post updated successfully.');
        } catch (\Exception $e) {
            return back()->with('error', $e->getMessage());
        }
    }
    
    public function destroy(Post $post) {
        try {
            $this->postService->deletePost($post);
            return redirect()->route('post.index')->with('success', 'Post deleted successfully.');
        } catch (\Exception $e) {
            return back()->with('error', $e->getMessage());
        }
    }
}</code></pre>
              <p class="alert alert-primary">Controller now delegates to service. Easier to test/maintain.</p>
              <p class="alert alert-success">Test CRUD operations—service adds error handling.</p>
            </div>
          </div>
        </section>

        <!-- 5. INDEX PAGE -->
        <section id="index" class="section-header">
          <h2>5. Index Page (READ)</h2>
          <p>First React component! Like a Blade view, but in JS/TS. Receives 'posts' props from controller. Use ShadCN for UI.</p>

          <div class="card">
            <div class="card-header">5.1 Initial Index Page</div>
            <div class="card-body">
              <p>Create directory resources/js/pages/Post if needed.</p>
              <div class="file-path">resources/js/pages/Post/Index.tsx</div>
              <pre><code class="language-tsx">import { Head, Link } from '@inertiajs/react';
import AppLayout from '@/layouts/app-layout'; // Created in section 21
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

interface Post {
  id: number;
  title: string;
  description: string | null;
  image_url?: string | null;
  is_published: boolean;
}

interface IndexProps {
  posts: Post[];
}

export default function Index({ posts }: IndexProps) {
  return (
    &lt;AppLayout&gt;
      &lt;Head title="Posts" /&gt;
      
      &lt;div className="flex justify-between items-center mb-6"&gt;
        &lt;h1 className="text-2xl font-bold"&gt;Posts&lt;/h1&gt;
        &lt;Button asChild&gt;
          &lt;Link href={route('post.create')}&gt;Create Post&lt;/Link&gt;
        &lt;/Button&gt;
      &lt;/div&gt;

      &lt;Card&gt;
        &lt;CardHeader&gt;
          &lt;CardTitle&gt;All Posts&lt;/CardTitle&gt;
        &lt;/CardHeader&gt;
        &lt;CardContent&gt;
          &lt;div className="overflow-x-auto"&gt;
            &lt;table className="min-w-full divide-y divide-gray-200"&gt;
              &lt;thead className="bg-gray-50"&gt;
                &lt;tr&gt;
                  &lt;th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;ID&lt;/th&gt;
                  &lt;th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Title&lt;/th&gt;
                  &lt;th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Actions&lt;/th&gt;
                &lt;/tr&gt;
              &lt;/thead&gt;
              &lt;tbody className="bg-white divide-y divide-gray-200"&gt;
                {posts.map((post) =&gt; (
                  &lt;tr key={post.id}&gt;
                    &lt;td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;{post.id}&lt;/td&gt;
                    &lt;td className="px-6 py-4 text-sm font-medium text-gray-900"&gt;{post.title}&lt;/td&gt;
                    &lt;td className="px-6 py-4 whitespace-nowrap text-sm font-medium"&gt;
                      &lt;Button variant="outline" size="sm" asChild&gt;
                        &lt;Link href={route('post.edit', post.id)}&gt;Edit&lt;/Link&gt;
                      &lt;/Button&gt;
                    &lt;/td&gt;
                  &lt;/tr&gt;
                ))}
              &lt;/tbody&gt;
            &lt;/table&gt;
          &lt;/div&gt;
        &lt;/CardContent&gt;
      &lt;/Card&gt;
    &lt;/AppLayout&gt;
  );
}</code></pre>
              <p class="alert alert-primary">React explained: Interface defines types (like DTO). {posts.map} loops like @foreach. Key helps React track items. Link is SPA navigation—no reload.</p>
              <p class="alert alert-success">Run npm run build. Visit /posts—see list. Click create/edit for 404 until next sections.</p>
            </div>
          </div>
        </section>

        <!-- 6. CREATE PAGE -->
        <section id="create" class="section-header">
          <h2>6. Create Page</h2>
          <p>Form component. useForm handles state/errors/submission—like Laravel form with validation.</p>

          <div class="card">
            <div class="card-header">6.1 Initial Create Page</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Create.tsx</div>
              <pre><code class="language-tsx">import { Head, Link, useForm } from '@inertiajs/react';
import AppLayout from '@/layouts/app-layout';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Switch } from '@/components/ui/switch';

export default function Create() {
  const { data, setData, post, processing, errors } = useForm({
    title: '',
    description: '',
    image: null,
    is_published: false,
  });

  const submit = (e: React.FormEvent) =&gt; {
    e.preventDefault();
    post(route('post.store'));
  };

  return (
    &lt;AppLayout&gt;
      &lt;Head title="Create Post" /&gt;
      
      &lt;div className="flex justify-between items-center mb-6"&gt;
        &lt;h1 className="text-2xl font-bold"&gt;Create Post&lt;/h1&gt;
        &lt;Button variant="outline" asChild&gt;
          &lt;Link href={route('post.index')}&gt;Back to Posts&lt;/Link&gt;
        &lt;/Button&gt;
      &lt;/div&gt;

      &lt;Card&gt;
        &lt;form onSubmit={submit}&gt;
          &lt;CardHeader&gt;
            &lt;CardTitle&gt;New Post&lt;/CardTitle&gt;
          &lt;/CardHeader&gt;
          &lt;CardContent className="space-y-4"&gt;
            &lt;div&gt;
              &lt;Label htmlFor="title"&gt;Title&lt;/Label&gt;
              &lt;Input id="title" value={data.title} onChange={(e) =&gt; setData('title', e.target.value)} required /&gt;
              {errors.title &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.title}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div&gt;
              &lt;Label htmlFor="description"&gt;Description&lt;/Label&gt;
              &lt;Textarea id="description" value={data.description} onChange={(e) =&gt; setData('description', e.target.value)} rows={4} /&gt;
              {errors.description &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.description}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div&gt;
              &lt;Label htmlFor="image"&gt;Image&lt;/Label&gt;
              &lt;Input id="image" type="file" onChange={(e) =&gt; setData('image', e.target.files ? e.target.files[0] : null)} /&gt;
              {errors.image &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.image}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div className="flex items-center space-x-2"&gt;
              &lt;Switch id="is_published" checked={data.is_published} onCheckedChange={(checked) =&gt; setData('is_published', checked)} /&gt;
              &lt;Label htmlFor="is_published"&gt;Published&lt;/Label&gt;
            &lt;/div&gt;
          &lt;/CardContent&gt;
          &lt;CardFooter className="flex justify-between"&gt;
            &lt;Button variant="outline" asChild&gt;
              &lt;Link href={route('post.index')}&gt;Cancel&lt;/Link&gt;
            &lt;/Button&gt;
            &lt;Button type="submit" disabled={processing}&gt;{processing ? 'Creating...' : 'Create Post'}&lt;/Button&gt;
          &lt;/CardFooter&gt;
        &lt;/form&gt;
      &lt;/Card&gt;
    &lt;/AppLayout&gt;
  );
}</code></pre>
              <p class="alert alert-primary">useForm: State management + submission. onChange updates data. Errors from Laravel show automatically.</p>
              <p class="alert alert-success">Test create—form submits to store, redirects to index with new post.</p>
            </div>
          </div>
        </section>

        <!-- 7. EDIT PAGE -->
        <section id="edit" class="section-header">
          <h2>7. Edit Page</h2>
          <p>Similar to Create, but load post data from props. Use put for update.</p>

          <div class="card">
            <div class="card-header">7.1 Initial Edit Page</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Edit.tsx</div>
              <pre><code class="language-tsx">import { Head, Link, useForm } from '@inertiajs/react';
import AppLayout from '@/layouts/app-layout';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Switch } from '@/components/ui/switch';

interface Post {
  id: number;
  title: string;
  description: string | null;
  image_url?: string | null;
  is_published: boolean;
}

interface EditProps {
  post: Post;
}

export default function Edit({ post }: EditProps) {
  const { data, setData, put, processing, errors } = useForm({
    title: post.title || '',
    description: post.description || '',
    image: null,
    is_published: post.is_published,
  });

  const submit = (e: React.FormEvent) =&gt; {
    e.preventDefault();
    put(route('post.update', post.id));
  };

  return (
    &lt;AppLayout&gt;
      &lt;Head title="Edit Post" /&gt;
      
      &lt;div className="flex justify-between items-center mb-6"&gt;
        &lt;h1 className="text-2xl font-bold"&gt;Edit Post&lt;/h1&gt;
        &lt;Button variant="outline" asChild&gt;
          &lt;Link href={route('post.index')}&gt;Back to Posts&lt;/Link&gt;
        &lt;/Button&gt;
      &lt;/div&gt;

      &lt;Card&gt;
        &lt;form onSubmit={submit}&gt;
          &lt;CardHeader&gt;
            &lt;CardTitle&gt;Edit Post&lt;/CardTitle&gt;
          &lt;/CardHeader&gt;
          &lt;CardContent className="space-y-4"&gt;
            &lt;div&gt;
              &lt;Label htmlFor="title"&gt;Title&lt;/Label&gt;
              &lt;Input id="title" value={data.title} onChange={(e) =&gt; setData('title', e.target.value)} required /&gt;
              {errors.title &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.title}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div&gt;
              &lt;Label htmlFor="description"&gt;Description&lt;/Label&gt;
              &lt;Textarea id="description" value={data.description} onChange={(e) =&gt; setData('description', e.target.value)} rows={4} /&gt;
              {errors.description &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.description}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div&gt;
              &lt;Label htmlFor="image"&gt;Image (Current: {post.image_url ? 'Yes' : 'No'})&lt;/Label&gt;
              &lt;Input id="image" type="file" onChange={(e) =&gt; setData('image', e.target.files ? e.target.files[0] : null)} /&gt;
              {errors.image &amp;&amp; &lt;p className="text-red-500 text-sm mt-1"&gt;{errors.image}&lt;/p&gt;}
            &lt;/div&gt;
            &lt;div className="flex items-center space-x-2"&gt;
              &lt;Switch id="is_published" checked={data.is_published} onCheckedChange={(checked) =&gt; setData('is_published', checked)} /&gt;
              &lt;Label htmlFor="is_published"&gt;Published&lt;/Label&gt;
            &lt;/div&gt;
          &lt;/CardContent&gt;
          &lt;CardFooter className="flex justify-between"&gt;
            &lt;Button variant="outline" asChild&gt;
              &lt;Link href={route('post.index')}&gt;Cancel&lt;/Link&gt;
            &lt;/Button&gt;
            &lt;Button type="submit" disabled={processing}&gt;{processing ? 'Updating...' : 'Update Post'}&lt;/Button&gt;
          &lt;/CardFooter&gt;
        &lt;/form&gt;
      &lt;/Card&gt;
    &lt;/AppLayout&gt;
  );
}</code></pre>
              <p class="alert alert-primary">Pre-fills data from props. put sends PATCH request.</p>
              <p class="alert alert-success">Test edit from index—updates save and redirect.</p>
            </div>
          </div>
        </section>

        <!-- 8. SHOW PAGE -->
        <section id="show" class="section-header">
          <h2>8. Show Page</h2>
          <p>Display single post. Add link from index table.</p>

          <div class="card">
            <div class="card-header">8.1 Initial Show Page</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Show.tsx</div>
              <pre><code class="language-tsx">import { Head, Link } from '@inertiajs/react';
import AppLayout from '@/layouts/app-layout';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';

interface Post {
  id: number;
  title: string;
  description: string | null;
  image_url?: string | null;
  is_published: boolean;
}

interface ShowProps {
  post: Post;
}

export default function Show({ post }: ShowProps) {
  return (
    &lt;AppLayout&gt;
      &lt;Head title={post.title} /&gt;
      
      &lt;div className="flex justify-between items-center mb-6"&gt;
        &lt;h1 className="text-2xl font-bold"&gt;View Post&lt;/h1&gt;
        &lt;Button variant="outline" asChild&gt;
          &lt;Link href={route('post.index')}&gt;Back to Posts&lt;/Link&gt;
        &lt;/Button&gt;
      &lt;/div&gt;

      &lt;Card&gt;
        &lt;CardHeader&gt;
          &lt;CardTitle&gt;{post.title}&lt;/CardTitle&gt;
          &lt;Badge variant={post.is_published ? 'success' : 'secondary'}&gt;{post.is_published ? 'Published' : 'Draft'}&lt;/Badge&gt;
        &lt;/CardHeader&gt;
        &lt;CardContent className="space-y-4"&gt;
          &lt;div&gt;
            &lt;h3 className="text-lg font-semibold mb-2"&gt;Description&lt;/h3&gt;
            &lt;p className="text-gray-700"&gt;{post.description || 'No description.'}&lt;/p&gt;
          &lt;/div&gt;
          {post.image_url &amp;&amp; (
            &lt;div&gt;
              &lt;h3 className="text-lg font-semibold mb-2"&gt;Image&lt;/h3&gt;
              &lt;img src={post.image_url} alt="Post image" className="max-w-full h-auto rounded" /&gt;
            &lt;/div&gt;
          )}
        &lt;/CardContent&gt;
        &lt;CardFooter className="flex justify-between"&gt;
          &lt;Button variant="outline" asChild&gt;
            &lt;Link href={route('post.index')}&gt;Back&lt;/Link&gt;
          &lt;/Button&gt;
          &lt;Button asChild&gt;
            &lt;Link href={route('post.edit', post.id)}&gt;Edit&lt;/Link&gt;
          &lt;/Button&gt;
        &lt;/CardFooter&gt;
      &lt;/Card&gt;
    &lt;/AppLayout&gt;
  );
}</code></pre>
              <p class="alert alert-primary">Conditional {post.image_url && ...} like @if in Blade.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">8.2 Updated Index Page with Show Link</div>
            <div class="card-body">
              <p>Add show link in actions column.</p>
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">// ... existing code ...

&lt;td className="px-6 py-4 whitespace-nowrap text-sm font-medium"&gt;
  &lt;Button variant="outline" size="sm" asChild&gt;
    &lt;Link href={route('post.show', post.id)}&gt;View&lt;/Link&gt;
  &lt;/Button&gt;
  &lt;Button variant="outline" size="sm" asChild&gt;
    &lt;Link href={route('post.edit', post.id)}&gt;Edit&lt;/Link&gt;
  &lt;/Button&gt;
&lt;/td&gt;

// ... rest unchanged</code></pre>
              <p class="alert alert-success">Test—click view from list to see details.</p>
            </div>
          </div>
        </section>

        <!-- 9. DELETE FUNCTIONALITY -->
        <section id="delete" class="section-header">
          <h2>9. Delete Functionality</h2>
          <p>Add delete button with confirmation. Uses soft delete.</p>

          <div class="card">
            <div class="card-header">9.1 Updated Index Page with Delete</div>
            <div class="card-body">
              <p>Add to actions.</p>
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">// ... existing code ...

&lt;td className="px-6 py-4 whitespace-nowrap text-sm font-medium"&gt;
  &lt;Button variant="outline" size="sm" asChild&gt;
    &lt;Link href={route('post.show', post.id)}&gt;View&lt;/Link&gt;
  &lt;/Button&gt;
  &lt;Button variant="outline" size="sm" asChild&gt;
    &lt;Link href={route('post.edit', post.id)}&gt;Edit&lt;/Link&gt;
  &lt;/Button&gt;
  &lt;Button variant="destructive" size="sm" asChild&gt;
    &lt;Link 
      href={route('post.destroy', post.id)} 
      method="delete" 
      onClick={(e) =&gt; {
        if (!confirm('Are you sure?')) e.preventDefault();
      }}
    &gt;Delete&lt;/Link&gt;
  &lt;/Button&gt;
&lt;/td&gt;

// ... rest unchanged</code></pre>
              <p class="alert alert-primary">method="delete" sends DELETE request. onClick for confirmation—like JS in Blade.</p>
              <p class="alert alert-success">Test delete—post disappears (soft deleted).</p>
            </div>
          </div>
        </section>

        <!-- 10. ADD SEARCH -->
        <section id="search" class="section-header">
          <h2>10. Add Search</h2>
          <p>Server-side search on title/description. Add scope, update service/controller, then frontend input.</p>

          <div class="card">
            <div class="card-header">10.1 Add Search Scope Trait</div>
            <div class="card-body">
              <p>Create trait directory if needed.</p>
              <div class="file-path">app/Models/Traits/Scopes/SearchScope.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Models\Traits\Scopes;

use Illuminate\Database\Eloquent\Builder;

trait SearchScope {
    public function scopeSearch(Builder $query, ?string $search): Builder {
        if (empty($search)) {
            return $query;
        }
        return $query->where(function (Builder $q) use ($search): void {
            $q->where('title', 'like', "%{$search}%")
              ->orWhere('description', 'like', "%{$search}%");
        });
    }
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">10.2 Updated Model with Search Scope</div>
            <div class="card-body">
              <div class="file-path">app/Models/Post.php (Updated)</div>
              <pre><code class="language-php">// Add to top
use App\Models\Traits\Scopes\SearchScope;

// In class
use HasFactory, SoftDeletes, SearchScope;</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">10.3 Updated Post Service with Search</div>
            <div class="card-body">
              <p>Apply scope in getPostList.</p>
              <div class="file-path">app/Services/PostService.php (Updated)</div>
              <pre><code class="language-php">// Updated getPostList
public function getPostList(Request $request) {
    $filters = [
        'search' => $request->input('search'),
    ];
    $query = Post::query();
    if (!empty($filters['search'])) {
        $query = $query->search($filters['search']);
    }
    return $query->get();
}</code></pre>
              <p class="alert alert-primary">Scopes chain like query builders.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">10.4 Updated Controller with Search</div>
            <div class="card-body">
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">// Updated index
public function index(Request $request) {
    $result = $this->postService->getPostList($request);
    return Inertia::render('Post/Index', [
        'posts' => $result,
        'filters' => $request->only(['search']), // Pass filters to React for persistence
    ]);
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">10.5 Updated Index Page with Search Input</div>
            <div class="card-body">
              <p>Add useState, router for client-side trigger.</p>
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">import { useState, useEffect } from 'react';
import { router } from '@inertiajs/react';

// Add to interface
interface IndexProps {
  posts: Post[];
  filters: {
    search?: string;
  };
}

// In function
export default function Index({ posts, filters }: IndexProps) {
  const [searchQuery, setSearchQuery] = useState(filters.search || '');

  useEffect(() =&gt; {
    setSearchQuery(filters.search || '');
  }, [filters]);

  const handleSearch = () =&gt; {
    router.get(route('post.index'), { search: searchQuery }, { preserveState: true, replace: true });
  };

  // Add above table
  &lt;div className="mb-4"&gt;
    &lt;Input 
      type="text" 
      placeholder="Search by title or description..." 
      value={searchQuery} 
      onChange={(e) =&gt; setSearchQuery(e.target.value)} 
      onKeyDown={(e) =&gt; e.key === 'Enter' &amp;&amp; handleSearch()}
    /&gt;
    &lt;Button onClick={handleSearch} className="mt-2"&gt;Search&lt;/Button&gt;
  &lt;/div&gt;

  // ... rest unchanged</code></pre>
              <p class="alert alert-primary">useState for local input. router.get updates URL, triggers server re-render with filtered data. preserveState keeps other params.</p>
              <p class="alert alert-success">Test search—list filters instantly.</p>
            </div>
          </div>
        </section>

        <!-- 11. ADD SORT -->
        <section id="sort" class="section-header">
          <h2>11. Add Sort</h2>
          <p>Sortable columns. Add scope, update service/controller, frontend click handlers.</p>

          <div class="card">
            <div class="card-header">11.1 Add Sort Scope Trait</div>
            <div class="card-body">
              <div class="file-path">app/Models/Traits/Scopes/SortScope.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Models\Traits\Scopes;

use Illuminate\Database\Eloquent\Builder;

trait SortScope {
    public function scopeSortBy(Builder $query, string $sortBy, string $sortDirection = 'asc'): Builder {
        return $query->orderBy($sortBy, $sortDirection);
    }
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">11.2 Updated Model with Sort Scope</div>
            <div class="card-body">
              <div class="file-path">app/Models/Post.php (Updated)</div>
              <pre><code class="language-php">// Add use App\Models\Traits\Scopes\SortScope;

// In use: ... , SearchScope, SortScope;</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">11.3 Updated Post Service with Sort</div>
            <div class="card-body">
              <div class="file-path">app/Services/PostService.php (Updated)</div>
              <pre><code class="language-php">// Updated getPostList
public function getPostList(Request $request) {
    $filters = [
        'search' => $request->input('search'),
        'sort_by' => $request->input('sort_by', 'id'),
        'sort_direction' => $request->input('sort_direction', 'asc'),
    ];
    $query = Post::query();
    if (!empty($filters['search'])) {
        $query = $query->search($filters['search']);
    }
    $query = $query->sortBy($filters['sort_by'], $filters['sort_direction']);
    return $query->get();
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">11.4 Updated Controller with Sort</div>
            <div class="card-body">
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">// Updated index
public function index(Request $request) {
    $result = $this->postService->getPostList($request);
    return Inertia::render('Post/Index', [
        'posts' => $result,
        'filters' => $request->only(['search', 'sort_by', 'sort_direction']),
    ]);
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">11.5 Updated Index Page with Sort</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">// Update props filters to include sort_by, sort_direction

const handleSort = (column: string) =&gt; {
  const newDirection = filters.sort_by === column &amp;&amp; filters.sort_direction === 'asc' ? 'desc' : 'asc';
  router.get(route('post.index'), {
    ...filters,
    sort_by: column,
    sort_direction: newDirection,
  }, { preserveState: true, replace: true });
};

// In table headers, e.g., for title
&lt;th onClick={() =&gt; handleSort('title')} className="cursor-pointer"&gt;
  Title {filters.sort_by === 'title' &amp;&amp; (filters.sort_direction === 'asc' ? '↑' : '↓')}
&lt;/th&gt;

// Add for id if wanted</code></pre>
              <p class="alert alert-primary">Click toggles asc/desc. Preserves other filters.</p>
              <p class="alert alert-success">Test sort—click title to sort.</p>
            </div>
          </div>
        </section>

        <!-- 12. ADD FILTER -->
        <section id="filter" class="section-header">
          <h2>12. Add Filter</h2>
          <p>Filter by published. Similar flow.</p>

          <div class="card">
            <div class="card-header">12.1 Add Filter Scope Trait</div>
            <div class="card-body">
              <div class="file-path">app/Models/Traits/Scopes/FilterScope.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Models\Traits\Scopes;

use Illuminate\Database\Eloquent\Builder;

trait FilterScope {
    public function scopePublished(Builder $query, ?string $published): Builder {
        if ($published === null || $published === '') {
            return $query;
        }
        return $query->where('is_published', $published === 'true');
    }
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">12.2 Updated Model with Filter Scope</div>
            <div class="card-body">
              <div class="file-path">app/Models/Post.php (Updated)</div>
              <pre><code class="language-php">// Add use App\Models\Traits\Scopes\FilterScope;

// In use: ... , SortScope, FilterScope;</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">12.3 Updated Post Service with Filter</div>
            <div class="card-body">
              <div class="file-path">app/Services/PostService.php (Updated)</div>
              <pre><code class="language-php">// Updated filters array add 'published' => $request->input('published')

// In query
if (!is_null($filters['published']) &amp;&amp; $filters['published'] !== '') {
    $query = $query->published($filters['published']);
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">12.4 Updated Controller with Filter</div>
            <div class="card-body">
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">// Updated filters in render: $request->only(['search', 'sort_by', 'sort_direction', 'published'])</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">12.5 Updated Index Page with Filter</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">// Update props filters to include published?: string

const [publishedFilter, setPublishedFilter] = useState(filters.published || '');

useEffect(() =&gt; {
  setPublishedFilter(filters.published || '');
}, [filters]);

const handleFilter = () =&gt; {
  router.get(route('post.index'), { ...filters, published: publishedFilter }, { preserveState: true, replace: true });
};

// Add to UI, e.g., below search
&lt;select value={publishedFilter} onChange={(e) =&gt; { setPublishedFilter(e.target.value); handleFilter(); }} className="ml-2"&gt;
  &lt;option value=""&gt;All Statuses&lt;/option&gt;
  &lt;option value="true"&gt;Published&lt;/option&gt;
  &lt;option value="false"&gt;Draft&lt;/option&gt;
&lt;/select&gt;</code></pre>
              <p class="alert alert-primary">Select triggers filter, preserves others.</p>
              <p class="alert alert-success">Test filter—list shows only selected status.</p>
            </div>
          </div>
        </section>

        <!-- 13. ADD PAGINATION -->
        <section id="pagination" class="section-header">
          <h2>13. Add Pagination</h2>
          <p>Server-side pagination. Update to paginate, add frontend controls.</p>

          <div class="card">
            <div class="card-header">13.1 Add Pagination Scope Trait</div>
            <div class="card-body">
              <div class="file-path">app/Models/Traits/Scopes/PaginationScope.php</div>
              <pre><code class="language-php">&lt;?php
namespace App\Models\Traits\Scopes;

use Illuminate\Contracts\Pagination\LengthAwarePaginator;
use Illuminate\Database\Eloquent\Builder;

trait PaginationScope {
    public function scopePaginateResults(Builder $query, int $perPage = 10, int $page = 1): LengthAwarePaginator {
        return $query->paginate($perPage, ['*'], 'page', $page);
    }
}</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">13.2 Updated Model with Pagination Scope</div>
            <div class="card-body">
              <div class="file-path">app/Models/Post.php (Updated)</div>
              <pre><code class="language-php">// Add use App\Models\Traits\Scopes\PaginationScope;

// In use: ... , FilterScope, PaginationScope;</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">13.3 Updated Post Service with Pagination</div>
            <div class="card-body">
              <div class="file-path">app/Services/PostService.php (Updated)</div>
              <pre><code class="language-php">// Add to filters 'per_page' => $request->input('per_page', 10)

// Replace get() with
return $query->paginateResults($filters['per_page'], $request->input('page', 1));</code></pre>
              <p class="alert alert-primary">Paginator object has data, current_page, etc.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">13.4 Updated Controller with Pagination</div>
            <div class="card-body">
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">// Updated filters only add 'per_page'</code></pre>
            </div>
          </div>

          <div class="card">
            <div class="card-header">13.5 Updated Index Page with Pagination</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">// Update props posts to be paginator: { data: Post[], current_page: number, last_page: number, ... }

const handlePageChange = (page: number) =&gt; {
  router.get(route('post.index'), { ...filters, page }, { preserveState: true, replace: true });
};

// Use posts.data in map

// Add below table
&lt;div className="flex justify-between mt-4"&gt;
  &lt;Button disabled={posts.current_page === 1} onClick={() =&gt; handlePageChange(posts.current_page - 1)}&gt;Previous&lt;/Button&gt;
  &lt;span&gt;Page {posts.current_page} of {posts.last_page}&lt;/span&gt;
  &lt;Button disabled={posts.current_page === posts.last_page} onClick={() =&gt; handlePageChange(posts.current_page + 1)}&gt;Next&lt;/Button&gt;
&lt;/div&gt;</code></pre>
              <p class="alert alert-primary">posts.data for list. Buttons update page param.</p>
              <p class="alert alert-success">Test pagination—navigate pages.</p>
            </div>
          </div>
        </section>

        <!-- 14. ADD RESET -->
        <section id="reset" class="section-header">
          <h2>14. Add Reset</h2>
          <p>Button to clear filters.</p>

          <div class="card">
            <div class="card-header">14.1 Updated Index Page with Reset</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">const resetFilters = () =&gt; {
  setSearchQuery('');
  setPublishedFilter('');
  // Reset other states
  router.get(route('post.index'), {}, { preserveState: false, replace: true });
};

// Add button near search/filter
&lt;Button variant="secondary" onClick={resetFilters} className="ml-2"&gt;Reset&lt;/Button&gt;</code></pre>
              <p class="alert alert-primary">Clears params and state.</p>
              <p class="alert alert-success">Test—apply filters, reset to all.</p>
            </div>
          </div>
        </section>

        <!-- 15. TABLE EXPORT -->
        <section id="export" class="section-header">
          <h2>15. Table Export</h2>
          <p>Export to Excel.</p>

          <div class="card">
            <div class="card-header">15.1 Updated Index Page with Export</div>
            <div class="card-body">
              <p>Install: <code>npm install react-export-table-to-excel</code></p>
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">import { useRef } from 'react';
import { useDownloadExcel } from 'react-export-table-to-excel';

const tableRef = useRef&lt;HTMLTableElement&gt;(null);

const { onDownload } = useDownloadExcel({
  currentTableRef: tableRef.current,
  filename: 'posts',
  sheet: 'Posts'
});

// Add button above table
&lt;Button variant="outline" onClick={onDownload}&gt;Export to Excel&lt;/Button&gt;

// Table: &lt;table ref={tableRef}&gt; ...</code></pre>
              <p class="alert alert-primary">useRef references DOM for export.</p>
              <p class="alert alert-success">Test—downloads Excel with data.</p>
            </div>
          </div>
        </section>

        <!-- 16. INERTIA REACT JS BASIC FUNCTIONS -->
        <section id="hooks" class="section-header">
          <h2>16. Inertia React JS Basic Functions</h2>
          <p>Key React/Inertia concepts with examples. Add to existing pages as needed.</p>

          <div class="card">
            <div class="card-header">16.1 Hooks and Router Examples</div>
            <div class="card-body">
              <p>In Index.tsx (add for demo):</p>
              <pre><code class="language-tsx">// useState: Local variable that re-renders on change
const [count, setCount] = useState(0);
&lt;Button onClick={() =&gt; setCount(count + 1)}&gt;Count: {count}&lt;/Button&gt;

// useEffect: Run code on change/mount
useEffect(() =&gt; {
  console.log('Posts changed');
}, [posts]);

// router: Navigate with data
router.reload(); // Refresh data</code></pre>
              <p class="alert alert-primary">Like computed/watch in Vue, but for React.</p>
              <p class="alert alert-success">Test—see console on changes.</p>
            </div>
          </div>
        </section>

        <!-- 17. ADD/REMOVE ROW -->
        <section id="rows" class="section-header">
          <h2>17. Add/Remove Row</h2>
          <p>Dynamic fields, e.g., in Create for multiple tags.</p>

          <div class="card">
            <div class="card-header">17.1 Updated Create Page with Dynamic Rows</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Create.tsx (Updated)</div>
              <pre><code class="language-tsx">// Add state
const [tags, setTags] = useState([{ id: 1, value: '' }]);

const addTag = () =&gt; setTags([...tags, { id: Date.now(), value: '' }]);

const removeTag = (id) =&gt; setTags(tags.filter(tag =&gt; tag.id !== id));

const updateTag = (id, value) =&gt; setTags(tags.map(tag =&gt; tag.id === id ? { ...tag, value } : tag));

// In form, add section
&lt;div&gt;
  &lt;Label&gt;Tags&lt;/Label&gt;
  {tags.map(tag =&gt; (
    &lt;div key={tag.id} className="flex mb-2"&gt;
      &lt;Input value={tag.value} onChange={(e) =&gt; updateTag(tag.id, e.target.value)} /&gt;
      &lt;Button type="button" onClick={() =&gt; removeTag(tag.id)} variant="destructive" className="ml-2"&gt;Remove&lt;/Button&gt;
    &lt;/div&gt;
  ))}
  &lt;Button type="button" onClick={addTag}&gt;Add Tag&lt;/Button&gt;
&lt;/div&gt;

// On submit, add data.tags = tags.map(t =&gt; t.value);</code></pre>
              <p class="alert alert-primary">Array state for rows. ... spreads for immutable updates.</p>
              <p class="alert alert-success">Test—add/remove inputs.</p>
            </div>
          </div>
        </section>

        <!-- 18. PRICE CALCULATION -->
        <section id="price" class="section-header">
          <h2>18. Price Calculation</h2>
          <p>Example for dynamic calc, e.g., if posts had price.</p>

          <div class="card">
            <div class="card-header">18.1 Updated Create Page with Calculation</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Create.tsx (Updated)</div>
              <pre><code class="language-tsx">// Assume price, tax fields
const [price, setPrice] = useState(0);
const [tax, setTax] = useState(0.1);

const total = useMemo(() =&gt; price + (price * tax), [price, tax]);

// In form
&lt;Input type="number" value={price} onChange={(e) =&gt; setPrice(Number(e.target.value))} /&gt;
&lt;p&gt;Total: {total.toFixed(2)}&lt;/p&gt;</code></pre>
              <p class="alert alert-primary">useMemo caches calc, re-runs on deps.</p>
              <p class="alert alert-success">Test—updates total live.</p>
            </div>
          </div>
        </section>

        <!-- 19. TOGGLER -->
        <section id="toggler" class="section-header">
          <h2>19. Toggler</h2>
          <p>Toggle sections.</p>

          <div class="card">
            <div class="card-header">19.1 Updated Index Page with Toggler</div>
            <div class="card-body">
              <div class="file-path">resources/js/pages/Post/Index.tsx (Updated)</div>
              <pre><code class="language-tsx">const [showAdvanced, setShowAdvanced] = useState(false);

&lt;Button onClick={() =&gt; setShowAdvanced(!showAdvanced)}&gt;Toggle Advanced&lt;/Button&gt;
{showAdvanced &amp;&amp; (
  &lt;div&gt;Advanced options here&lt;/div&gt;
)}</code></pre>
              <p class="alert alert-primary">Boolean state for show/hide.</p>
              <p class="alert alert-success">Test—toggles content.</p>
            </div>
          </div>
        </section>

        <!-- 20. ADVANCED FEATURES -->
        <section id="advanced" class="section-header">
          <h2>20. Advanced Features</h2>

          <div class="card">
            <div class="card-header">20.1 File Upload Preview</div>
            <div class="card-body">
              <p>Update Create/Edit for preview.</p>
              <div class="file-path">resources/js/pages/Post/Create.tsx (Updated)</div>
              <pre><code class="language-tsx">const [preview, setPreview] = useState(null);

const handleImageChange = (e) =&gt; {
  const file = e.target.files[0];
  setData('image', file);
  if (file) {
    setPreview(URL.createObjectURL(file));
  }
};

// Below input
{preview &amp;&amp; &lt;img src={preview} alt="Preview" className="mt-2 max-w-xs" /&gt;}</code></pre>
              <p class="alert alert-success">Test—upload shows preview.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">20.2 Restore/Force Delete</div>
            <div class="card-body">
              <p>Add routes:</p>
              <div class="file-path">routes/web.php (Updated)</div>
              <pre><code class="language-php">Route::post('/posts/{post}/restore', [PostController::class, 'restore'])->name('post.restore');
Route::delete('/posts/{post}/force-delete', [PostController::class, 'forceDelete'])->name('post.force-delete');</code></pre>

              <p>Update controller with methods.</p>
              <div class="file-path">app/Http/Controllers/PostController.php (Updated)</div>
              <pre><code class="language-php">public function restore($id) {
  try {
    $post = Post::withTrashed()->findOrFail($id);
    $post->restore();
    return redirect()->route('post.index')->with('success', 'Post restored.');
  } catch (\Exception $e) {
    return back()->with('error', $e->getMessage());
  }
}

public function forceDelete($id) {
  try {
    $post = Post::withTrashed()->findOrFail($id);
    if ($post->image) Storage::disk('public')->delete($post->image);
    $post->forceDelete();
    return redirect()->route('post.index')->with('success', 'Post permanently deleted.');
  } catch (\Exception $e) {
    return back()->with('error', $e->getMessage());
  }
}</code></pre>

              <p>Update index to show deleted, add buttons (e.g., filter for trashed).</p>
              <p class="alert alert-success">Test—delete, restore.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">20.3 Caching</div>
            <div class="card-body">
              <p>Update service getPostList with cache.</p>
              <div class="file-path">app/Services/PostService.php (Updated)</div>
              <pre><code class="language-php">use Illuminate\Support\Facades\Cache;

// In getPostList
$cacheKey = 'posts_' . md5(serialize($filters));
$results = Cache::remember($cacheKey, 300, function() use ($query, $filters) {
  return $query->paginateResults($filters['per_page'], $request->input('page', 1));
});</code></pre>

              <p>Clear on CRUD: Add Cache::flush() in controller store/update/destroy/restore/forceDelete.</p>
              <p class="alert alert-success">Test—faster loads after first.</p>
            </div>
          </div>
        </section>

        <!-- 21. CUSTOM LAYOUTS -->
        <section id="layout" class="section-header">
          <h2>21. Custom Layouts</h2>
          <p>Reusable wrappers like Blade layouts.</p>

          <div class="card">
            <div class="card-header">21.1 App Layout</div>
            <div class="card-body">
              <div class="file-path">resources/js/layouts/app-layout.tsx</div>
              <pre><code class="language-tsx">import { ReactNode } from 'react';
import { Head, Link } from '@inertiajs/react';

interface Props {
  children: ReactNode;
  title?: string;
}

export default function AppLayout({ children, title }: Props) {
  return (
    &lt;div className="min-h-screen bg-gray-100"&gt;
      &lt;Head title={title} /&gt;
      &lt;nav className="bg-white border-b p-4"&gt;
        &lt;Link href={route('post.index')} className="text-primary"&gt;Posts&lt;/Link&gt;
      &lt;/nav&gt;
      &lt;main className="max-w-7xl mx-auto p-6"&gt;{children}&lt;/main&gt;
    &lt;/div&gt;
  );
}</code></pre>
              <p class="alert alert-primary">children is slotted content.</p>
              <p class="alert alert-success">All pages use this—consistent nav.</p>
            </div>
          </div>
        </section>

      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <p class="text-center mb-0">
        © 2025 <a class="text-white" href="https://about.me/iftekherahmed">Iftekher Ahmed</a>. All rights reserved.
      </p>
    </div>
  </footer>

  <button id="scrollToTopBtn" title="Go to top">↑</button>

<script>
  // Active sidebar navigation based on scroll position
  document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.toc a');
    const headerOffset = 100;
    
    function setActiveLink() {
      let current = '';
      
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (window.scrollY >= (sectionTop - headerOffset)) {
          current = section.getAttribute('id');
        }
      });
      
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    }
    
    // Set active link on scroll
    window.addEventListener('scroll', setActiveLink);
    
    // Set active link on page load
    setActiveLink();
    
    // Smooth scrolling for anchor links
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        
        if (targetSection) {
          window.scrollTo({
            top: targetSection.offsetTop - headerOffset,
            behavior: 'smooth'
          });
          
          // Update active link immediately
          navLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });
    
    // Scroll to top button functionality
    const scrollToTopBtn = document.getElementById("scrollToTopBtn");
    
    // Show/hide button based on scroll position
    window.addEventListener('scroll', function() {
      if (window.scrollY > 300) {
        scrollToTopBtn.style.display = "block";
      } else {
        scrollToTopBtn.style.display = "none";
      }
    });
    
    // Scroll to top when button is clicked
    scrollToTopBtn.addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
    
    // Hide scroll to top button initially
    scrollToTopBtn.style.display = "none";
  });
</script>
</body>
</html>